"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9355],{9355(xt,k,d){d.d(k,{BookingModule:()=>ht});var g=d(2200),b=d(8132),_=d(7343),p=d(9417),t=d(3664);let C=(()=>{var i;class r{onKeyDown(o){["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(o.key)||/^\d$/.test(o.key)||o.preventDefault()}onPaste(o){const n=o.clipboardData?.getData("text")??"";/^\d+$/.test(n)||o.preventDefault()}onInput(o){const n=o.target;n.value=n.value.replace(/\D/g,"")}static#t=i=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275dir=t.FsC({type:r,selectors:[["","onlyNumber",""]],hostBindings:function(n,a){1&n&&t.bIt("keydown",function(l){return a.onKeyDown(l)})("paste",function(l){return a.onPaste(l)})("input",function(l){return a.onInput(l)})}}))}return i(),r})();var c=d(2615),h=d(537),v=d(4412),M=d(6354),P=d(5312),O=d(9330),F=d(3242);let w=(()=>{var i;class r{constructor(o,n){this.http=o,this.crypto=n,this.bookingDataSubject=new v.t(null),this.bookingData$=this.bookingDataSubject.asObservable(),this.API=`${P.c.baseUrl}`}setBookingData(o){const n=this.crypto.encrypt(o);return this.http.post(`${this.API}/booking`,{encryptedPayload:n}).pipe((0,M.T)(a=>{try{const s=this.crypto.decrypt(a.data);return{...a,data:s}}catch(s){throw console.error("Decryption error:",s),s}}))}getBookingData(){return this.bookingDataSubject.value}clearBookingData(){this.bookingDataSubject.next(null)}calculateTotal(o,n,a){return o*n+a.filter(m=>m.selected).reduce((m,f)=>m+f.price,0)}static#t=i=()=>(this.\u0275fac=function(n){return new(n||r)(c.KVO(O.Qq),c.KVO(F.L))},this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}))}return i(),r})();var j=d(9497),y=d(2964),E=d(2454),B=d(6280),I=d(5762);const u=i=>["/tour-details",i];function R(i,r){if(1&i&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.E5c(" ",t.i5U(2,3,e.selectedBatch.startDate,"MMM dd")," \xb7 ",e.booking.participants," participant",1!==e.booking.participants?"s":""," ")}}function S(i,r){1&i&&(t.j41(0,"div",34),t.EFF(1,"Choose departure date"),t.k0s())}function $(i,r){if(1&i&&(t.j41(0,"div",34),t.EFF(1),t.k0s()),2&i){const e=t.XpG(2);t.R7$(),t.JRh(e.booking.name)}}function D(i,r){1&i&&(t.j41(0,"div",34),t.EFF(1,"Primary contact details"),t.k0s())}function T(i,r){if(1&i&&(t.j41(0,"div",37)(1,"span",38),t.EFF(2),t.k0s(),t.j41(3,"span",39),t.EFF(4),t.nI1(5,"number"),t.k0s()()),2&i){const e=t.XpG().$implicit,o=t.XpG(3);t.R7$(2),t.Lme("",e.name," \xd7 ",o.booking.participants),t.R7$(2),t.SpI("\u20b9",t.i5U(5,3,e.price*o.booking.participants,"1.0-0"))}}function G(i,r){if(1&i&&(t.qex(0),t.DNE(1,T,6,6,"div",42),t.bVm()),2&i){const e=r.$implicit;t.R7$(),t.Y8G("ngIf",e.selected)}}function z(i,r){if(1&i&&(t.j41(0,"div",36)(1,"div",37)(2,"span",38),t.EFF(3),t.k0s(),t.j41(4,"span",39),t.EFF(5),t.nI1(6,"number"),t.k0s()(),t.DNE(7,G,2,1,"ng-container",40),t.j41(8,"div",41)(9,"span",38),t.EFF(10,"Total"),t.k0s(),t.j41(11,"span",39),t.EFF(12),t.nI1(13,"number"),t.k0s()()()),2&i){const e=t.XpG(2);t.R7$(3),t.Lme("Trek (",e.booking.participants," \xd7 \u20b9",e.selectedBatch.price,")"),t.R7$(2),t.SpI("\u20b9",t.i5U(6,5,e.basePrice,"1.0-0")),t.R7$(2),t.Y8G("ngForOf",e.addOns),t.R7$(5),t.SpI("\u20b9",t.i5U(13,8,e.totalPrice,"1.0-0"))}}function N(i,r){if(1&i&&(t.j41(0,"aside",18)(1,"div",19)(2,"div",20)(3,"a",21),t.EFF(4,"\u2190 Trek Details"),t.k0s()(),t.nrm(5,"img",22),t.k0s(),t.j41(6,"div",23)(7,"div",24),t.EFF(8,"You're booking"),t.k0s(),t.j41(9,"div",25),t.EFF(10),t.k0s(),t.j41(11,"div",26),t.EFF(12),t.k0s()(),t.nrm(13,"div",27),t.j41(14,"div",28)(15,"div",29)(16,"div",30),t.EFF(17),t.k0s(),t.j41(18,"div",31)(19,"div",32),t.EFF(20,"Batch & Dates"),t.k0s(),t.DNE(21,R,3,6,"div",33)(22,S,2,0,"div",33),t.k0s()(),t.j41(23,"div",29)(24,"div",30),t.EFF(25),t.k0s(),t.j41(26,"div",31)(27,"div",32),t.EFF(28,"Contact Info"),t.k0s(),t.DNE(29,$,2,1,"div",33)(30,D,2,0,"div",33),t.k0s()(),t.j41(31,"div",29)(32,"div",30),t.EFF(33),t.k0s(),t.j41(34,"div",31)(35,"div",32),t.EFF(36,"Participants"),t.k0s(),t.j41(37,"div",34),t.EFF(38,"Details for all trekkers"),t.k0s()()(),t.j41(39,"div",29)(40,"div",30),t.EFF(41,"4"),t.k0s(),t.j41(42,"div",31)(43,"div",32),t.EFF(44,"Review & Pay"),t.k0s(),t.j41(45,"div",34),t.EFF(46,"Confirm your booking"),t.k0s()()()(),t.DNE(47,z,14,11,"div",35),t.k0s()),2&i){const e=t.XpG();t.R7$(3),t.Y8G("routerLink",t.eq3(27,u,e.trekId)),t.R7$(2),t.Y8G("src","http://localhost:4001/"+e.trek.cover_image,t.B4B)("alt",e.trek.name),t.R7$(5),t.JRh(e.trek.name),t.R7$(2),t.SpI("\u{1f4cd} ",e.trek.location),t.R7$(3),t.AVh("completed",e.currentStep>1)("active",1===e.currentStep),t.R7$(2),t.JRh(e.currentStep>1?"\u2713":"1"),t.R7$(4),t.Y8G("ngIf",e.selectedBatch),t.R7$(),t.Y8G("ngIf",!e.selectedBatch),t.R7$(),t.AVh("completed",e.currentStep>2)("active",2===e.currentStep),t.R7$(2),t.JRh(e.currentStep>2?"\u2713":"2"),t.R7$(4),t.Y8G("ngIf",e.currentStep>2),t.R7$(),t.Y8G("ngIf",e.currentStep<=2),t.R7$(),t.AVh("completed",e.currentStep>3)("active",3===e.currentStep),t.R7$(2),t.JRh(e.currentStep>3?"\u2713":"3"),t.R7$(6),t.AVh("active",4===e.currentStep),t.R7$(8),t.Y8G("ngIf",e.selectedBatch)}}function X(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",46),t.EFF(1),t.j41(2,"button",47),t.bIt("click",function(){c.eBV(e);const n=t.XpG(2);return c.Njj(n.successMessage="")}),t.EFF(3,"\u2715"),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.SpI(" \u2713 ",e.successMessage," ")}}function V(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",48),t.EFF(1),t.j41(2,"button",47),t.bIt("click",function(){c.eBV(e);const n=t.XpG(2);return c.Njj(n.errorMessage="")}),t.EFF(3,"\u2715"),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.SpI(" \u26a0 ",e.errorMessage," ")}}function A(i,r){if(1&i&&(t.j41(0,"div",43),t.DNE(1,X,4,1,"div",44)(2,V,4,1,"div",45),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.successMessage),t.R7$(),t.Y8G("ngIf",e.errorMessage)}}function Y(i,r){1&i&&(t.j41(0,"div",49),t.nrm(1,"div",50),t.j41(2,"div",51),t.EFF(3,"Loading trek details\u2026"),t.k0s()())}function J(i,r){1&i&&t.nrm(0,"div",76)}function L(i,r){if(1&i){const e=t.RV6();t.j41(0,"label",67)(1,"input",68),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(3);return t.DH7(a.booking.batchId,n)||(a.booking.batchId=n),c.Njj(n)}),t.bIt("change",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.onBatchSelect(n.batchId))}),t.k0s(),t.j41(2,"div",69),t.DNE(3,J,1,0,"div",70),t.k0s(),t.j41(4,"div",71)(5,"div",72),t.EFF(6),t.nI1(7,"date"),t.nI1(8,"date"),t.k0s(),t.j41(9,"div",73),t.EFF(10),t.k0s()(),t.j41(11,"div",74),t.EFF(12),t.k0s(),t.j41(13,"span",75),t.EFF(14),t.k0s()()}if(2&i){const e=r.$implicit,o=t.XpG(3);t.AVh("selected",o.booking.batchId==e.batchId)("disabled","active"!==e.status||0===e.availableSlots),t.R7$(),t.Y8G("value",e.batchId),t.R50("ngModel",o.booking.batchId),t.Y8G("disabled","active"!==e.status||0===e.availableSlots),t.R7$(2),t.Y8G("ngIf",o.booking.batchId==e.batchId),t.R7$(3),t.Lme("",t.i5U(7,20,e.startDate,"MMM dd")," \u2013 ",t.i5U(8,23,e.endDate,"MMM dd, yyyy")),t.R7$(4),t.Lme("",e.duration," \xb7 ",e.availableSlots," slots remaining"),t.R7$(2),t.SpI("\u20b9",e.price),t.R7$(),t.AVh("status-ok",e.availableSlots>5)("status-few",e.availableSlots>0&&e.availableSlots<=5)("status-full",0===e.availableSlots),t.R7$(),t.SpI(" ",0===e.availableSlots?"Full":e.availableSlots<=5?"Few Left":"Open"," ")}}function U(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",77)(1,"div",78)(2,"label"),t.EFF(3,"Participants "),t.j41(4,"span",60),t.EFF(5,"*"),t.k0s()(),t.j41(6,"div",79)(7,"button",80),t.bIt("click",function(){c.eBV(e);const n=t.XpG(3);return c.Njj(n.decrementParticipants())}),t.EFF(8,"\u2212"),t.k0s(),t.j41(9,"div",81),t.EFF(10),t.k0s(),t.j41(11,"button",80),t.bIt("click",function(){c.eBV(e);const n=t.XpG(3);return c.Njj(n.incrementParticipants())}),t.EFF(12,"+"),t.k0s()(),t.j41(13,"div",82),t.EFF(14),t.k0s()(),t.j41(15,"div",78)(16,"label"),t.EFF(17,"Price per Person"),t.k0s(),t.nrm(18,"input",83),t.k0s()()}if(2&i){const e=t.XpG(3);t.R7$(10),t.JRh(e.booking.participants),t.R7$(4),t.SpI("Max ",e.selectedBatch.availableSlots," available in this batch"),t.R7$(4),t.Y8G("value","\u20b9"+e.selectedBatch.price)}}function H(i,r){1&i&&(t.j41(0,"div",84),t.EFF(1," Add-ons (Optional) "),t.k0s())}function Z(i,r){if(1&i){const e=t.RV6();t.j41(0,"label",85)(1,"input",86),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.selected,n)||(a.selected=n),c.Njj(n)}),t.k0s(),t.j41(2,"div",87)(3,"div",88),t.EFF(4),t.k0s(),t.j41(5,"div",89),t.EFF(6),t.k0s()(),t.j41(7,"div",90),t.EFF(8),t.k0s()()}if(2&i){const e=r.$implicit;t.AVh("checked",e.selected),t.R7$(),t.R50("ngModel",e.selected),t.R7$(3),t.JRh(e.name),t.R7$(2),t.JRh(e.selected?"\u2713":""),t.R7$(2),t.SpI("\u20b9",e.price," / person")}}function q(i,r){if(1&i&&(t.qex(0),t.j41(1,"div",54)(2,"div",55),t.EFF(3,"Step 1 of 4"),t.k0s(),t.j41(4,"h1",56),t.EFF(5,"Select Your Batch"),t.k0s(),t.j41(6,"p",57),t.EFF(7,"Choose a departure date and set your group size."),t.k0s()(),t.j41(8,"div",58)(9,"label",59),t.EFF(10," Available Batches "),t.j41(11,"span",60),t.EFF(12,"*"),t.k0s()(),t.j41(13,"div",61),t.DNE(14,L,15,26,"label",62),t.k0s()(),t.DNE(15,U,19,3,"div",63)(16,H,2,0,"div",64),t.j41(17,"div",65),t.DNE(18,Z,9,6,"label",66),t.k0s(),t.bVm()),2&i){const e=t.XpG(2);t.R7$(14),t.Y8G("ngForOf",e.batches),t.R7$(),t.Y8G("ngIf",e.selectedBatch),t.R7$(),t.Y8G("ngIf",e.addOns.length),t.R7$(2),t.Y8G("ngForOf",e.addOns)}}function K(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",54)(2,"div",55),t.EFF(3,"Step 2 of 4"),t.k0s(),t.j41(4,"h1",56),t.EFF(5,"Contact Information"),t.k0s(),t.j41(6,"p",57),t.EFF(7,"This person will be the main point of contact for the booking."),t.k0s()(),t.j41(8,"div",77)(9,"div",78)(10,"label"),t.EFF(11,"Full Name "),t.j41(12,"span",60),t.EFF(13,"*"),t.k0s()(),t.j41(14,"input",91),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(2);return t.DH7(a.booking.name,n)||(a.booking.name=n),c.Njj(n)}),t.k0s()(),t.j41(15,"div",78)(16,"label"),t.EFF(17,"Email "),t.j41(18,"span",60),t.EFF(19,"*"),t.k0s()(),t.j41(20,"input",92),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(2);return t.DH7(a.booking.email,n)||(a.booking.email=n),c.Njj(n)}),t.k0s()()(),t.j41(21,"div",77)(22,"div",78)(23,"label"),t.EFF(24,"Phone "),t.j41(25,"span",60),t.EFF(26,"*"),t.k0s()(),t.j41(27,"input",93),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(2);return t.DH7(a.booking.phone,n)||(a.booking.phone=n),c.Njj(n)}),t.k0s()(),t.j41(28,"div",78)(29,"label"),t.EFF(30,"Emergency Contact "),t.j41(31,"span",60),t.EFF(32,"*"),t.k0s()(),t.j41(33,"input",93),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(2);return t.DH7(a.booking.emergencyContact,n)||(a.booking.emergencyContact=n),c.Njj(n)}),t.k0s()()(),t.j41(34,"div",94)(35,"div",78)(36,"label"),t.EFF(37,"Special Requests / Medical Info"),t.k0s(),t.j41(38,"textarea",95),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(2);return t.DH7(a.booking.specialRequests,n)||(a.booking.specialRequests=n),c.Njj(n)}),t.k0s()()(),t.bVm()}if(2&i){const e=t.XpG(2);t.R7$(14),t.R50("ngModel",e.booking.name),t.R7$(6),t.R50("ngModel",e.booking.email),t.R7$(7),t.R50("ngModel",e.booking.phone),t.R7$(6),t.R50("ngModel",e.booking.emergencyContact),t.R7$(5),t.R50("ngModel",e.booking.specialRequests)}}function Q(i,r){1&i&&(t.j41(0,"div",98),t.EFF(1," \u26a0 Please fill all required fields for every participant before continuing. "),t.k0s())}function W(i,r){1&i&&(t.j41(0,"span",124),t.EFF(1,"Primary Contact"),t.k0s())}function tt(i,r){1&i&&(t.j41(0,"div",82),t.EFF(1,"Auto-filled from contact info"),t.k0s())}function et(i,r){if(1&i&&(t.j41(0,"div",125),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.ageError)}}function nt(i,r){if(1&i&&(t.j41(0,"div",125),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.idError)}}function ot(i,r){1&i&&(t.j41(0,"div",82),t.EFF(1,"Auto-filled from contact info"),t.k0s())}function it(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",99)(1,"div",100)(2,"div",101),t.EFF(3),t.k0s(),t.j41(4,"div",102),t.EFF(5),t.k0s(),t.DNE(6,W,2,0,"span",103),t.k0s(),t.j41(7,"div",104)(8,"div",78)(9,"label"),t.EFF(10,"Full Name "),t.j41(11,"span",60),t.EFF(12,"*"),t.k0s()(),t.j41(13,"input",105),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.name,n)||(a.name=n),c.Njj(n)}),t.k0s(),t.DNE(14,tt,2,0,"div",106),t.k0s(),t.j41(15,"div",78)(16,"label"),t.EFF(17,"Age "),t.j41(18,"span",60),t.EFF(19,"*"),t.k0s()(),t.j41(20,"input",107),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.age,n)||(a.age=n),c.Njj(n)}),t.bIt("input",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.validateAge(n))}),t.k0s(),t.DNE(21,et,2,1,"div",108),t.k0s(),t.j41(22,"div",78)(23,"label"),t.EFF(24,"Gender "),t.j41(25,"span",60),t.EFF(26,"*"),t.k0s()(),t.j41(27,"select",109),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.gender,n)||(a.gender=n),c.Njj(n)}),t.j41(28,"option",110),t.EFF(29,"Select Gender"),t.k0s(),t.j41(30,"option",111),t.EFF(31,"Male"),t.k0s(),t.j41(32,"option",112),t.EFF(33,"Female"),t.k0s(),t.j41(34,"option",113),t.EFF(35,"Other"),t.k0s()()(),t.j41(36,"div",78)(37,"label"),t.EFF(38,"ID Proof Type "),t.j41(39,"span",60),t.EFF(40,"*"),t.k0s()(),t.j41(41,"select",114),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.idType,n)||(a.idType=n),c.Njj(n)}),t.bIt("change",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return n.idNumber="",c.Njj(a.validateId(n))}),t.j41(42,"option",110),t.EFF(43,"Select ID"),t.k0s(),t.j41(44,"option",115),t.EFF(45,"Aadhar Card"),t.k0s(),t.j41(46,"option",116),t.EFF(47,"PAN Card"),t.k0s(),t.j41(48,"option",117),t.EFF(49,"Passport"),t.k0s(),t.j41(50,"option",118),t.EFF(51,"Driving License"),t.k0s(),t.j41(52,"option",119),t.EFF(53,"Voter ID"),t.k0s()()(),t.j41(54,"div",78)(55,"label"),t.EFF(56,"ID Number "),t.j41(57,"span",60),t.EFF(58,"*"),t.k0s()(),t.j41(59,"input",120),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.idNumber,n)||(a.idNumber=n),c.Njj(n)}),t.bIt("input",function(){const n=c.eBV(e).$implicit,a=t.XpG(3);return c.Njj(a.formatIdInput(n))}),t.k0s(),t.DNE(60,nt,2,1,"div",108),t.k0s(),t.j41(61,"div",78)(62,"label"),t.EFF(63,"Phone"),t.k0s(),t.j41(64,"input",121),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.phone,n)||(a.phone=n),c.Njj(n)}),t.k0s(),t.DNE(65,ot,2,0,"div",106),t.k0s(),t.j41(66,"div",122)(67,"label"),t.EFF(68,"Medical Conditions / Allergies"),t.k0s(),t.j41(69,"textarea",123),t.mxI("ngModelChange",function(n){const a=c.eBV(e).$implicit;return t.DH7(a.medicalInfo,n)||(a.medicalInfo=n),c.Njj(n)}),t.k0s()()()()}if(2&i){const e=r.$implicit,o=r.index,n=t.XpG(3);t.R7$(3),t.JRh(o+1),t.R7$(2),t.SpI("Participant ",o+1),t.R7$(),t.Y8G("ngIf",0===o),t.R7$(7),t.R50("ngModel",e.name),t.Y8G("disabled",0===o),t.R7$(),t.Y8G("ngIf",0===o),t.R7$(6),t.R50("ngModel",e.age),t.R7$(),t.Y8G("ngIf",e.ageError),t.R7$(6),t.R50("ngModel",e.gender),t.R7$(14),t.R50("ngModel",e.idType),t.R7$(18),t.R50("ngModel",e.idNumber),t.Y8G("maxlength",n.getIdMaxLength(e.idType)),t.R7$(),t.Y8G("ngIf",e.idError),t.R7$(4),t.R50("ngModel",e.phone),t.Y8G("disabled",0===o),t.R7$(),t.Y8G("ngIf",0===o),t.R7$(4),t.R50("ngModel",e.medicalInfo)}}function at(i,r){if(1&i&&(t.qex(0),t.j41(1,"div",54)(2,"div",55),t.EFF(3,"Step 3 of 4"),t.k0s(),t.j41(4,"h1",56),t.EFF(5,"Participant Details"),t.k0s(),t.j41(6,"p",57),t.EFF(7),t.k0s()(),t.DNE(8,Q,2,0,"div",96)(9,it,70,17,"div",97),t.bVm()),2&i){const e=t.XpG(2);t.R7$(7),t.SpI("Please provide details for all ",e.booking.participants," participant(s)."),t.R7$(),t.Y8G("ngIf",!e.areAllParticipantsValid()),t.R7$(),t.Y8G("ngForOf",e.participants)}}function rt(i,r){1&i&&(t.j41(0,"span",145),t.EFF(1,"Primary"),t.k0s())}function ct(i,r){if(1&i&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.DNE(5,rt,2,0,"span",144),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s()()),2&i){const e=r.$implicit,o=r.index;t.R7$(2),t.JRh(o+1),t.R7$(2),t.JRh(e.name),t.R7$(),t.Y8G("ngIf",0===o),t.R7$(2),t.JRh(e.age),t.R7$(2),t.JRh(e.gender),t.R7$(2),t.JRh(e.idType),t.R7$(2),t.JRh(e.idNumber)}}function st(i,r){if(1&i&&(t.j41(0,"div",136)(1,"span",137),t.EFF(2),t.k0s(),t.j41(3,"span",138),t.EFF(4),t.nI1(5,"number"),t.k0s()()),2&i){const e=t.XpG().$implicit,o=t.XpG(3);t.R7$(2),t.E5c("",e.name," (",o.booking.participants," \xd7 \u20b9",e.price,")"),t.R7$(2),t.SpI("\u20b9",t.i5U(5,4,e.price*o.booking.participants,"1.0-0"))}}function dt(i,r){if(1&i&&(t.qex(0),t.DNE(1,st,6,7,"div",146),t.bVm()),2&i){const e=r.$implicit;t.R7$(),t.Y8G("ngIf",e.selected)}}function pt(i,r){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"div",54)(2,"div",55),t.EFF(3,"Step 4 of 4"),t.k0s(),t.j41(4,"h1",56),t.EFF(5,"Review Your Booking"),t.k0s(),t.j41(6,"p",57),t.EFF(7,"Please verify all details before proceeding to payment."),t.k0s()(),t.j41(8,"div",126)(9,"div",127)(10,"div",128),t.EFF(11,"Trek Details"),t.k0s(),t.j41(12,"a",129),t.bIt("click",function(){c.eBV(e);const n=t.XpG(2);return c.Njj(n.currentStep=1)}),t.EFF(13,"Edit"),t.k0s()(),t.j41(14,"div",130)(15,"div",131)(16,"span",132),t.EFF(17,"Trek"),t.k0s(),t.j41(18,"span",133),t.EFF(19),t.k0s()(),t.j41(20,"div",131)(21,"span",132),t.EFF(22,"Dates"),t.k0s(),t.j41(23,"span",133),t.EFF(24),t.nI1(25,"date"),t.nI1(26,"date"),t.k0s()(),t.j41(27,"div",131)(28,"span",132),t.EFF(29,"Duration"),t.k0s(),t.j41(30,"span",133),t.EFF(31),t.k0s()(),t.j41(32,"div",131)(33,"span",132),t.EFF(34,"Participants"),t.k0s(),t.j41(35,"span",133),t.EFF(36),t.k0s()()()(),t.j41(37,"div",126)(38,"div",127)(39,"div",128),t.EFF(40,"Primary Contact"),t.k0s(),t.j41(41,"a",129),t.bIt("click",function(){c.eBV(e);const n=t.XpG(2);return c.Njj(n.currentStep=2)}),t.EFF(42,"Edit"),t.k0s()(),t.j41(43,"div",130)(44,"div",131)(45,"span",132),t.EFF(46,"Name"),t.k0s(),t.j41(47,"span",133),t.EFF(48),t.k0s()(),t.j41(49,"div",131)(50,"span",132),t.EFF(51,"Email"),t.k0s(),t.j41(52,"span",133),t.EFF(53),t.k0s()(),t.j41(54,"div",131)(55,"span",132),t.EFF(56,"Phone"),t.k0s(),t.j41(57,"span",133),t.EFF(58),t.k0s()(),t.j41(59,"div",131)(60,"span",132),t.EFF(61,"Emergency"),t.k0s(),t.j41(62,"span",133),t.EFF(63),t.k0s()()()(),t.j41(64,"div",126)(65,"div",127)(66,"div",128),t.EFF(67,"Participants"),t.k0s(),t.j41(68,"a",129),t.bIt("click",function(){c.eBV(e);const n=t.XpG(2);return c.Njj(n.currentStep=3)}),t.EFF(69,"Edit"),t.k0s()(),t.j41(70,"table",134)(71,"thead")(72,"tr")(73,"th"),t.EFF(74,"#"),t.k0s(),t.j41(75,"th"),t.EFF(76,"Name"),t.k0s(),t.j41(77,"th"),t.EFF(78,"Age"),t.k0s(),t.j41(79,"th"),t.EFF(80,"Gender"),t.k0s(),t.j41(81,"th"),t.EFF(82,"ID Type"),t.k0s(),t.j41(83,"th"),t.EFF(84,"ID Number"),t.k0s()()(),t.j41(85,"tbody"),t.DNE(86,ct,14,7,"tr",40),t.k0s()()(),t.j41(87,"div",135)(88,"div",136)(89,"span",137),t.EFF(90),t.k0s(),t.j41(91,"span",138),t.EFF(92),t.nI1(93,"number"),t.k0s()(),t.DNE(94,dt,2,1,"ng-container",40),t.j41(95,"div",139)(96,"span",137),t.EFF(97,"Total Amount"),t.k0s(),t.j41(98,"span",138),t.EFF(99),t.nI1(100,"number"),t.k0s()()(),t.j41(101,"label",140)(102,"input",86),t.mxI("ngModelChange",function(n){c.eBV(e);const a=t.XpG(2);return t.DH7(a.termsAccepted,n)||(a.termsAccepted=n),c.Njj(n)}),t.k0s(),t.j41(103,"div",141),t.EFF(104," I agree to the "),t.j41(105,"a",142),t.EFF(106,"Terms & Conditions"),t.k0s(),t.EFF(107," and "),t.j41(108,"a",143),t.EFF(109,"Cancellation Policy"),t.k0s(),t.EFF(110," of Karnataka Adventures. "),t.k0s()(),t.bVm()}if(2&i){const e=t.XpG(2);t.R7$(19),t.JRh(e.trek.name),t.R7$(5),t.Lme("",t.i5U(25,16,null==e.selectedBatch?null:e.selectedBatch.startDate,"MMM dd")," \u2013 ",t.i5U(26,19,null==e.selectedBatch?null:e.selectedBatch.endDate,"MMM dd, yyyy")),t.R7$(7),t.JRh(null==e.selectedBatch?null:e.selectedBatch.duration),t.R7$(5),t.JRh(e.booking.participants),t.R7$(12),t.JRh(e.booking.name),t.R7$(5),t.JRh(e.booking.email),t.R7$(5),t.JRh(e.booking.phone),t.R7$(5),t.JRh(e.booking.emergencyContact),t.R7$(23),t.Y8G("ngForOf",e.participants),t.R7$(4),t.Lme("Trek (",e.booking.participants," \xd7 \u20b9",null==e.selectedBatch?null:e.selectedBatch.price,")"),t.R7$(2),t.SpI("\u20b9",t.i5U(93,22,e.basePrice,"1.0-0")),t.R7$(2),t.Y8G("ngForOf",e.addOns),t.R7$(5),t.SpI("\u20b9",t.i5U(100,25,e.totalPrice,"1.0-0")),t.R7$(3),t.R50("ngModel",e.termsAccepted)}}function lt(i,r){if(1&i&&(t.j41(0,"div",52),t.DNE(1,q,19,4,"ng-container",53)(2,K,39,5,"ng-container",53)(3,at,10,3,"ng-container",53)(4,pt,111,28,"ng-container",53),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngIf",1===e.currentStep),t.R7$(),t.Y8G("ngIf",2===e.currentStep),t.R7$(),t.Y8G("ngIf",3===e.currentStep),t.R7$(),t.Y8G("ngIf",4===e.currentStep)}}function gt(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",147),t.bIt("click",function(){c.eBV(e);const n=t.XpG();return c.Njj(n.prevStep())}),t.EFF(1,"\u2190 Back"),t.k0s()}}function mt(i,r){if(1&i&&(t.j41(0,"div",148)(1,"div",149),t.EFF(2,"Total"),t.k0s(),t.j41(3,"div",150),t.EFF(4),t.nI1(5,"number"),t.k0s()()),2&i){const e=t.XpG();t.R7$(4),t.SpI("\u20b9",t.i5U(5,1,e.totalPrice,"1.0-0"))}}function _t(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",151),t.bIt("click",function(){c.eBV(e);const n=t.XpG();return c.Njj(n.nextStep())}),t.EFF(1," Continue \u2192 "),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("disabled",!e.canProceedToNextStep())}}function ft(i,r){if(1&i){const e=t.RV6();t.j41(0,"button",152),t.bIt("click",function(){c.eBV(e);const n=t.XpG();return c.Njj(n.proceedToPayment())}),t.EFF(1),t.k0s()}if(2&i){const e=t.XpG();t.Y8G("disabled",e.isSubmitting||!e.termsAccepted),t.R7$(),t.SpI(" ",e.isSubmitting?"Processing\u2026":"\u{1f4b3} Pay Now"," ")}}let x=(()=>{var i;class r{constructor(o,n,a,s,l,m,f,ut){this.route=o,this.bookingService=n,this.trekService=a,this.auth=s,this.authModal=l,this.router=m,this.tokenService=f,this.sessionService=ut,this.trekId=0,this.currentStep=1,this.isLoading=!0,this.termsAccepted=!0,this.trek=null,this.batches=[],this.selectedBatch=null,this.booking={batchId:0,date:"",participants:1,name:"",email:"",phone:"",emergencyContact:"",specialRequests:""},this.participants=[],this.addOns=[{id:1,name:"Trekking Poles",price:200,selected:!1},{id:2,name:"Sleeping Bag",price:300,selected:!1},{id:3,name:"Travel Insurance",price:500,selected:!1}],this.isSubmitting=!1}ngOnInit(){this.route.params.subscribe(o=>{this.trekId=+o.id,this.trekId&&this.loadTrekData()}),this.booking.participants||(this.booking.participants=1)}loadTrekData(){this.isLoading=!0,this.trekService.getTrekById(this.trekId).subscribe({next:o=>{if(o.success){this.trek=o.data||[],console.log("Trek data loaded:",this.trek),this.batches=this.trek.batch&&!Array.isArray(this.trek.batch)?[this.trek.batch]:this.trek.batches?this.trek.batches:[];const n=this.batches.find(s=>"active"===s.status&&s.availableSlots>0);if(n){const s=n.batchId||n.id;this.booking.batchId=s,this.onBatchSelect(s)}const a=this.tokenService.decode();this.booking.name=a?.name||"",this.booking.email=a?.email||"",this.booking.phone=a?.phone||"",this.initializeParticipants()}this.isLoading=!1},error:o=>{console.error("Load trek error:",o),this.isLoading=!1}})}onBatchSelect(o){const n="string"==typeof o?parseInt(o):o;this.selectedBatch=this.batches.find(a=>a.batchId===n||a.id===n),this.selectedBatch&&(this.booking.date=this.selectedBatch.startDate,this.booking.batchId=this.selectedBatch.batchId||this.selectedBatch.id)}initializeParticipants(){this.participants=[];for(let o=0;o<this.booking.participants;o++)this.participants.push(0===o?{name:this.booking.name,age:null,gender:"",idType:"",idNumber:"",phone:this.booking.phone,medicalInfo:""}:{name:"",age:null,gender:"",idType:"",idNumber:"",phone:"",medicalInfo:""})}onParticipantsInput(o){const n=o.target;let a=Number(n.value);if(!this.selectedBatch)return;const s=this.selectedBatch.availableSlots;a>s&&(a=s),a<1&&(a=1),this.booking.participants=a,n.value=a.toString(),this.initializeParticipants()}syncPrimaryContactToParticipant(){this.participants.length>0&&(this.participants[0].name=this.booking.name,this.participants[0].phone=this.booking.phone)}areAllParticipantsValid(){return this.participants.every(o=>""!==o.name.trim()&&null!==o.age&&o.age>0&&""!==o.gender&&""!==o.idType&&""!==o.idNumber.trim())}canProceedToNextStep(){switch(this.currentStep){case 1:return this.booking.batchId>0&&this.booking.participants>=1&&null!==this.selectedBatch;case 2:return""!==this.booking.name.trim()&&""!==this.booking.email.trim()&&10===this.booking.phone.length&&10===this.booking.emergencyContact.length;case 3:return this.areAllParticipantsValid();default:return!0}}get basePrice(){return this.selectedBatch?(this.selectedBatch.price||0)*this.booking.participants:0}get addOnsPrice(){return this.addOns.filter(o=>o.selected).reduce((o,n)=>o+n.price,0)*this.booking.participants}get totalPrice(){return this.basePrice+this.addOnsPrice}nextStep(){if(this.canProceedToNextStep()){if(2===this.currentStep){this.syncPrimaryContactToParticipant();const o=!!this.tokenService.getToken(),n=this.tokenService.isValid();if(o&&!n)return void this.sessionService.notifyExpired();if(!o)return void this.authModal.openLogin().then(a=>{a&&a.success&&this.currentStep++}).catch(()=>{})}this.currentStep<4&&this.currentStep++}else 1===this.currentStep?alert("Please select a batch and number of participants"):2===this.currentStep?alert("Please fill all required contact information"):3===this.currentStep&&alert("Please fill all required participant details")}prevStep(){this.currentStep>1&&this.currentStep--}proceedToPayment(){this.successMessage="",this.errorMessage="",this.isSubmitting=!0,this.userId=this.tokenService.getUserId();const o={userId:this.userId,trekId:this.trekId,trekName:this.trek.name,batchId:this.selectedBatch.batchId||this.selectedBatch.id,startDate:this.selectedBatch.startDate,endDate:this.selectedBatch.endDate,price:this.selectedBatch.price,availableSlots:this.selectedBatch.availableSlots,participants:this.booking.participants,selectedAddOns:this.addOns.filter(n=>n.selected),personalInfo:{name:this.booking.name,email:this.booking.email,phone:this.booking.phone,emergencyContact:this.booking.emergencyContact,specialRequests:this.booking.specialRequests},participantDetails:this.participants};this.bookingService.setBookingData(o).subscribe(n=>{1==n.success?(this.successMessage=n.message||"Booking successful \u{1f389}",setTimeout(()=>{this.resetBooking(),this.successMessage="",this.isSubmitting=!1,this.router.navigateByUrl("")},1500)):(this.errorMessage=n.message||"Booking failed",setTimeout(()=>{this.errorMessage="",this.isSubmitting=!1},1500))})}resetBooking(){this.currentStep=1,this.booking={batchId:0,date:"",participants:1,name:"",email:"",phone:"",emergencyContact:"",specialRequests:""},this.participants=[],this.initializeParticipants()}decrementParticipants(){this.booking.participants>1&&this.booking.participants--}incrementParticipants(){this.booking.participants<this.selectedBatch.availableSlots&&this.booking.participants++}validateId(o){if(o.idError="",!o.idType||!o.idNumber)return;const n=o.idNumber.replace(/\s/g,"");switch(o.idType){case"aadhaar":/^\d{12}$/.test(n)||(o.idError="Aadhaar must be 12 digits");break;case"pan":/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(n)||(o.idError="Invalid PAN format (ABCDE1234F)");break;case"passport":/^[A-Z][0-9]{7}$/.test(n)||(o.idError="Invalid Passport format (A1234567)");break;case"driving":n.length<10&&(o.idError="Invalid Driving License number")}}formatIdInput(o){if(!o.idType)return;let n=o.idNumber||"";switch(o.idType){case"pan":o.idNumber=n.toUpperCase().replace(/[^A-Z0-9]/g,"");break;case"aadhaar":let a=n.replace(/\D/g,"").substring(0,12);o.idNumber=a.replace(/(\d{4})(?=\d)/g,"$1 ");break;case"passport":o.idNumber=n.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,8);break;case"driving":o.idNumber=n.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,15)}this.validateId(o)}validateAge(o){o.ageError="",null!==o.age&&o.age<12&&(o.ageError="Minimum age is 12 years")}getIdMaxLength(o){switch(o){case"aadhaar":return 14;case"pan":return 10;case"passport":return 8;case"driving":return 15;default:return 20}}static#t=i=()=>(this.\u0275fac=function(n){return new(n||r)(t.rXU(h.nX),t.rXU(w),t.rXU(j.v),t.rXU(y.N),t.rXU(E.H),t.rXU(h.Ix),t.rXU(B.B),t.rXU(I.Q))},this.\u0275cmp=t.VBU({type:r,selectors:[["app-booking"]],decls:34,vars:28,consts:[[1,"checkout-shell"],["class","left-panel",4,"ngIf"],[1,"right-panel"],[1,"mobile-nav"],[1,"mobile-back",3,"routerLink"],[1,"mobile-title"],[2,"width","60px"],[1,"mobile-steps"],[1,"mob-step"],[1,"mob-num"],["class","form-area","style","padding-bottom:0; padding-top:20px",4,"ngIf"],["class","loader-overlay",4,"ngIf"],["class","form-area",4,"ngIf"],[1,"bottom-bar","w-100"],["class","btn-back",3,"click",4,"ngIf"],["class","bar-price",4,"ngIf"],["class","btn-next",3,"disabled","click",4,"ngIf"],["class","btn-next btn-pay",3,"disabled","click",4,"ngIf"],[1,"left-panel"],[1,"trek-thumb",2,"position","relative"],[1,"panel-nav"],[1,"back-btn",3,"routerLink"],[3,"src","alt"],[1,"trek-info"],[1,"trek-label"],[1,"trek-name"],[1,"trek-location"],[1,"panel-divider"],[1,"stepper"],[1,"step-row"],[1,"step-node"],[1,"step-text"],[1,"step-title"],["class","step-sub",4,"ngIf"],[1,"step-sub"],["class","price-summary",4,"ngIf"],[1,"price-summary"],[1,"price-row"],[1,"price-label"],[1,"price-amt"],[4,"ngFor","ngForOf"],[1,"price-row","total"],["class","price-row",4,"ngIf"],[1,"form-area",2,"padding-bottom","0","padding-top","20px"],["class","success-bar",4,"ngIf"],["class","error-bar",4,"ngIf"],[1,"success-bar"],[1,"alert-close",3,"click"],[1,"error-bar"],[1,"loader-overlay"],[1,"loader-ring"],[1,"loader-text"],[1,"form-area"],[4,"ngIf"],[1,"step-headline"],[1,"step-eyebrow"],[1,"step-h1"],[1,"step-desc"],[2,"margin-bottom","28px"],[2,"font-size","0.75rem","font-weight","700","letter-spacing","0.04em","color","var(--body)","display","block","margin-bottom","10px"],[1,"req"],[1,"batch-options"],["class","batch-option",3,"selected","disabled",4,"ngFor","ngForOf"],["class","form-row",4,"ngIf"],["style","margin-top:8px;margin-bottom:12px;font-size:0.75rem;font-weight:700;letter-spacing:0.1em;text-transform:uppercase;color:var(--muted)",4,"ngIf"],[1,"addons-grid"],["class","addon-card",3,"checked",4,"ngFor","ngForOf"],[1,"batch-option"],["type","radio","name","batch","checked","",3,"ngModelChange","change","value","ngModel","disabled"],[1,"batch-radio"],["style","width:8px;height:8px;border-radius:50%;background:#3d6b4a",4,"ngIf"],[1,"batch-info"],[1,"batch-dates"],[1,"batch-meta"],[1,"batch-price"],[1,"batch-status"],[2,"width","8px","height","8px","border-radius","50%","background","#3d6b4a"],[1,"form-row"],[1,"field"],[1,"counter-row"],["type","button",1,"counter-btn",3,"click"],[1,"counter-val"],[1,"field-hint"],["readonly","",1,"form-input",3,"value"],[2,"margin-top","8px","margin-bottom","12px","font-size","0.75rem","font-weight","700","letter-spacing","0.1em","text-transform","uppercase","color","var(--muted)"],[1,"addon-card"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"addon-top"],[1,"addon-name"],[1,"addon-check"],[1,"addon-price"],["placeholder","Enter full name",1,"form-input",3,"ngModelChange","ngModel"],["type","email","placeholder","your@email.com",1,"form-input",3,"ngModelChange","ngModel"],["type","tel","placeholder","+91 XXXXX XXXXX","minlength","10","maxlength","10","onlyNumber","",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-row","full"],["placeholder","Any allergies, dietary restrictions, or special requirements\u2026",1,"form-textarea",3,"ngModelChange","ngModel"],["class","info-bar",4,"ngIf"],["class","participant-block",4,"ngFor","ngForOf"],[1,"info-bar"],[1,"participant-block"],[1,"participant-header"],[1,"p-num"],[1,"p-name"],["class","p-badge",4,"ngIf"],[1,"participant-fields"],["placeholder","Enter full name",1,"form-input",3,"ngModelChange","ngModel","disabled"],["class","field-hint",4,"ngIf"],["type","number","placeholder","e.g. 28","min","18","max","100",1,"form-input",3,"ngModelChange","input","ngModel"],["class","error",4,"ngIf"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Male"],["value","Female"],["value","Other"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","Aadhar"],["value","PAN"],["value","Passport"],["value","Driving License"],["value","Voter ID"],["placeholder","Enter ID number",1,"form-input",3,"ngModelChange","input","ngModel","maxlength"],["type","tel","placeholder","+91 XXXXX XXXXX",1,"form-input",3,"ngModelChange","ngModel","disabled"],[1,"field","full"],["placeholder","Any conditions, allergies, or medications\u2026",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"p-badge"],[1,"error"],[1,"review-block"],[1,"review-header"],[1,"review-header-title"],[1,"edit-link",3,"click"],[1,"review-body"],[1,"review-row"],[1,"review-key"],[1,"review-val"],[1,"p-table"],[1,"price-breakdown"],[1,"pb-row"],[1,"pb-label"],[1,"pb-val"],[1,"pb-row","total"],[1,"terms-check"],[1,"terms-text"],["routerLink","/terms"],["routerLink","/cancellation"],["class","primary-tag",4,"ngIf"],[1,"primary-tag"],["class","pb-row",4,"ngIf"],[1,"btn-back",3,"click"],[1,"bar-price"],[1,"bar-price-label"],[1,"bar-price-amount"],[1,"btn-next",3,"click","disabled"],[1,"btn-next","btn-pay",3,"click","disabled"]],template:function(n,a){1&n&&(t.j41(0,"div",0),t.DNE(1,N,48,29,"aside",1),t.j41(2,"div",2)(3,"div",3)(4,"a",4),t.EFF(5,"\u2190 Back"),t.k0s(),t.j41(6,"div",5),t.EFF(7,"Book Your Trek"),t.k0s(),t.nrm(8,"div",6),t.k0s(),t.j41(9,"div",7)(10,"div",8)(11,"div",9),t.EFF(12),t.k0s(),t.EFF(13,"Batch "),t.k0s(),t.j41(14,"div",8)(15,"div",9),t.EFF(16),t.k0s(),t.EFF(17,"Contact "),t.k0s(),t.j41(18,"div",8)(19,"div",9),t.EFF(20),t.k0s(),t.EFF(21,"Participants "),t.k0s(),t.j41(22,"div",8)(23,"div",9),t.EFF(24,"4"),t.k0s(),t.EFF(25,"Review "),t.k0s()(),t.DNE(26,A,3,2,"div",10)(27,Y,4,0,"div",11)(28,lt,5,4,"div",12),t.j41(29,"div",13),t.DNE(30,gt,2,0,"button",14)(31,mt,6,4,"div",15)(32,_t,2,1,"button",16)(33,ft,2,2,"button",17),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("ngIf",a.trek),t.R7$(3),t.Y8G("routerLink",t.eq3(26,u,a.trekId)),t.R7$(6),t.AVh("completed",a.currentStep>1)("active",1===a.currentStep),t.R7$(2),t.JRh(a.currentStep>1?"\u2713":"1"),t.R7$(2),t.AVh("completed",a.currentStep>2)("active",2===a.currentStep),t.R7$(2),t.JRh(a.currentStep>2?"\u2713":"2"),t.R7$(2),t.AVh("completed",a.currentStep>3)("active",3===a.currentStep),t.R7$(2),t.JRh(a.currentStep>3?"\u2713":"3"),t.R7$(2),t.AVh("active",4===a.currentStep),t.R7$(4),t.Y8G("ngIf",a.successMessage||a.errorMessage),t.R7$(),t.Y8G("ngIf",a.isLoading),t.R7$(),t.Y8G("ngIf",!a.isLoading),t.R7$(2),t.Y8G("ngIf",a.currentStep>1),t.R7$(),t.Y8G("ngIf",a.selectedBatch),t.R7$(),t.Y8G("ngIf",a.currentStep<4),t.R7$(),t.Y8G("ngIf",4===a.currentStep))},dependencies:[g.MD,g.Sq,g.bT,p.YN,p.xH,p.y7,p.me,p.Q0,p.Zm,p.wz,p.Fm,p.BC,p.xh,p.tU,p.VZ,p.zX,p.vS,_.bv,_.oY,p.X1,b.Wk,C,g.QX,g.vh],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Plus Jakarta Sans,sans-serif;background:#faf6f0;color:#1a1e1b;-webkit-font-smoothing:antialiased;overflow-x:hidden}.checkout-shell[_ngcontent-%COMP%]{display:grid;grid-template-columns:380px 1fr;min-height:100vh}.left-panel[_ngcontent-%COMP%]{background:#162318;position:sticky;top:0;height:100vh;overflow-y:auto;scrollbar-width:none;display:flex;flex-direction:column}.left-panel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.trek-thumb[_ngcontent-%COMP%]{position:relative;height:220px;overflow:hidden;flex-shrink:0}.trek-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;filter:brightness(.7) saturate(.8);transition:transform 8s linear}.trek-thumb[_ngcontent-%COMP%]:after{content:\"\";position:absolute;inset:0;background:linear-gradient(to bottom,transparent 30%,#162318 100%)}.panel-nav[_ngcontent-%COMP%]{position:absolute;top:16px;left:16px;z-index:10}.back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:#0006;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.12);color:#fffc;font-family:Plus Jakarta Sans,sans-serif;font-size:.72rem;font-weight:600;letter-spacing:.08em;padding:7px 13px;border-radius:6px;cursor:pointer;text-decoration:none;transition:all .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#0009;color:#fff}.trek-info[_ngcontent-%COMP%]{padding:0 28px 24px;margin-top:-20px;position:relative;z-index:1}.trek-label[_ngcontent-%COMP%]{font-size:.65rem;font-weight:600;letter-spacing:.18em;text-transform:uppercase;color:#9dc9aa;margin-bottom:8px}.trek-name[_ngcontent-%COMP%]{font-family:Clash Display,sans-serif;font-size:1.4rem;font-weight:600;color:#fff;line-height:1.2;letter-spacing:-.01em;margin-bottom:6px}.trek-location[_ngcontent-%COMP%]{font-size:.78rem;color:#ffffff73}.panel-divider[_ngcontent-%COMP%]{height:1px;background:#ffffff12;margin:0 28px 24px}.stepper[_ngcontent-%COMP%]{padding:0 28px;display:flex;flex-direction:column}.step-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding-bottom:28px;position:relative}.step-row[_ngcontent-%COMP%]:last-child{padding-bottom:0}.step-row[_ngcontent-%COMP%]:not(:last-child):before{content:\"\";position:absolute;left:13px;top:28px;bottom:0;width:1px;background:#ffffff14}.step-row.completed[_ngcontent-%COMP%]:before{background:#5a9b6e59}.step-row.active[_ngcontent-%COMP%]:before{background:#5a9b6e26}.step-node[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:.72rem;font-weight:700;transition:all .3s cubic-bezier(.23,1,.32,1);border:1.5px solid rgba(255,255,255,.1);color:#ffffff40;background:transparent}.step-row.completed[_ngcontent-%COMP%]   .step-node[_ngcontent-%COMP%]{background:#5a9b6e;border-color:#5a9b6e;color:#fff}.step-row.active[_ngcontent-%COMP%]   .step-node[_ngcontent-%COMP%]{background:transparent;border-color:#5a9b6e;color:#5a9b6e;box-shadow:0 0 0 4px #5a9b6e26}.step-text[_ngcontent-%COMP%]{padding-top:3px}.step-title[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#ffffff40;margin-bottom:2px;transition:color .3s}.step-row.completed[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#ffffff73}.step-row.active[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#fff}.step-sub[_ngcontent-%COMP%]{font-size:.72rem;color:#ffffff2e}.step-row.active[_ngcontent-%COMP%]   .step-sub[_ngcontent-%COMP%]{color:#9dc9aa}.price-summary[_ngcontent-%COMP%]{margin:24px 28px 0;padding:20px;background:#ffffff0a;border:1px solid rgba(255,255,255,.07);border-radius:10px}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.78rem;color:#fff6;padding:6px 0;border-bottom:1px solid rgba(255,255,255,.05);gap:8px}.price-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.price-row.total[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#fff;padding-top:12px;margin-top:4px;border-top:1px solid rgba(255,255,255,.1)}.price-row.total[_ngcontent-%COMP%]   .price-amt[_ngcontent-%COMP%]{color:#9dc9aa;font-size:1.15rem}.price-label[_ngcontent-%COMP%]{font-weight:500}.price-amt[_ngcontent-%COMP%]{font-weight:600;color:#ffffffa6;white-space:nowrap}.right-panel[_ngcontent-%COMP%]{background:#faf6f0;display:flex;flex-direction:column;min-height:100vh}.mobile-nav[_ngcontent-%COMP%]{display:none;background:#162318;padding:12px 20px;align-items:center;justify-content:space-between}.mobile-nav[_ngcontent-%COMP%]   .mobile-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:#ffffff14;border:1px solid rgba(255,255,255,.1);color:#ffffffb3;font-size:.72rem;font-weight:600;letter-spacing:.08em;padding:7px 12px;border-radius:6px;cursor:pointer;text-decoration:none}.mobile-nav[_ngcontent-%COMP%]   .mobile-title[_ngcontent-%COMP%]{font-family:Clash Display,sans-serif;font-size:.9rem;font-weight:600;color:#fff}.mobile-steps[_ngcontent-%COMP%]{display:none;background:#fff;border-bottom:1px solid #e4ddd3;padding:0 20px;overflow-x:auto;scrollbar-width:none}.mobile-steps[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.mob-step[_ngcontent-%COMP%]{flex-shrink:0;padding:14px 16px;border-bottom:2px solid transparent;font-size:.75rem;font-weight:600;color:#7e8c80;white-space:nowrap;display:flex;align-items:center;gap:7px;transition:color .2s,border-color .2s}.mob-step[_ngcontent-%COMP%]   .mob-num[_ngcontent-%COMP%]{width:18px;height:20px;border-radius:50%;border:1.5px solid currentColor;display:flex;align-items:center;justify-content:center;font-size:.65rem;font-weight:700}.mob-step.active[_ngcontent-%COMP%]{color:#3d6b4a;border-bottom-color:#3d6b4a}.mob-step.completed[_ngcontent-%COMP%]{color:#5a9b6e;border-bottom-color:#5a9b6e}.form-area[_ngcontent-%COMP%]{flex:1;max-width:680px}.step-headline[_ngcontent-%COMP%]{margin-bottom:36px}.step-eyebrow[_ngcontent-%COMP%]{font-size:.66rem;font-weight:700;letter-spacing:.2em;text-transform:uppercase;color:#5a9b6e;margin-bottom:8px}.step-h1[_ngcontent-%COMP%]{font-family:Clash Display,sans-serif;font-size:clamp(1.5rem,2.5vw,2rem);font-weight:700;color:#1a1e1b;line-height:1.1;letter-spacing:-.02em;margin-bottom:6px}.step-desc[_ngcontent-%COMP%]{font-size:.85rem;color:#7e8c80;font-weight:400;line-height:1.6}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-row.full[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-row.three[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:7px}.field.span2[_ngcontent-%COMP%]{grid-column:span 2}.field.full[_ngcontent-%COMP%]{grid-column:1/-1}label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;letter-spacing:.04em;color:#3f4840}.req[_ngcontent-%COMP%]{color:#d4882c;margin-left:2px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #e4ddd3;border-radius:8px;padding:11px 14px;font-family:Plus Jakarta Sans,sans-serif;font-size:.85rem;color:#1a1e1b;outline:none;transition:border-color .2s,box-shadow .2s;width:100%;appearance:none}.form-input[_ngcontent-%COMP%]::placeholder, .form-select[_ngcontent-%COMP%]::placeholder, .form-textarea[_ngcontent-%COMP%]::placeholder{color:#b8b0a6}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{border-color:#3d6b4a;box-shadow:0 0 0 3px #3d6b4a1a}.form-input[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled, .form-textarea[_ngcontent-%COMP%]:disabled{background:#f3ede4;color:#7e8c80;cursor:not-allowed}.form-select[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%237e8c80' d='M6 8L1 3h10z'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:right 12px center;padding-right:32px}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:88px}.field-hint[_ngcontent-%COMP%]{font-size:.7rem;color:#7e8c80;margin-top:-2px}.batch-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}.batch-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:14px 16px;background:#fff;border:1.5px solid #e4ddd3;border-radius:10px;cursor:pointer;transition:border-color .2s,box-shadow .2s}.batch-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.batch-option.selected[_ngcontent-%COMP%]{border-color:#3d6b4a;box-shadow:0 0 0 3px #3d6b4a14;background:#3d6b4a08}.batch-option.disabled[_ngcontent-%COMP%]{opacity:.45;cursor:not-allowed;pointer-events:none}.batch-radio[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:50%;border:2px solid #c8bfb3;flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:border-color .2s}.batch-option.selected[_ngcontent-%COMP%]   .batch-radio[_ngcontent-%COMP%]{border-color:#3d6b4a}.batch-info[_ngcontent-%COMP%]{flex:1;min-width:0}.batch-dates[_ngcontent-%COMP%]{font-size:.88rem;font-weight:600;color:#1a1e1b;margin-bottom:2px;overflow:hidden;text-overflow:ellipsis}.batch-meta[_ngcontent-%COMP%]{font-size:.72rem;color:#7e8c80}.batch-price[_ngcontent-%COMP%]{font-family:Clash Display,sans-serif;font-size:1.05rem;font-weight:600;color:#2d5038;white-space:nowrap}.batch-status[_ngcontent-%COMP%]{font-size:.62rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;padding:4px 8px;border-radius:4px;white-space:nowrap}.status-ok[_ngcontent-%COMP%]{background:#3d6b4a1a;color:#3d6b4a}.status-few[_ngcontent-%COMP%]{background:#d4882c1a;color:#d4882c}.status-full[_ngcontent-%COMP%]{background:#c940401a;color:#c94040}.counter-row[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1.5px solid #e4ddd3;border-radius:8px;overflow:hidden;width:fit-content}.counter-btn[_ngcontent-%COMP%]{width:44px;height:44px;background:transparent;border:none;font-size:1.1rem;color:#7e8c80;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s,color .15s}.counter-btn[_ngcontent-%COMP%]:hover{background:#f3ede4;color:#1a1e1b}.counter-btn[_ngcontent-%COMP%]:active{background:#e4ddd3}.counter-val[_ngcontent-%COMP%]{min-width:48px;text-align:center;font-size:1rem;font-weight:700;color:#1a1e1b;border-left:1px solid #e4ddd3;border-right:1px solid #e4ddd3;line-height:44px}.addons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:24px}.addon-card[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #e4ddd3;border-radius:10px;padding:14px 16px;cursor:pointer;transition:border-color .2s,box-shadow .2s;position:relative}.addon-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.addon-card.checked[_ngcontent-%COMP%]{border-color:#3d6b4a;box-shadow:0 0 0 3px #3d6b4a14}.addon-card.checked[_ngcontent-%COMP%]   .addon-check[_ngcontent-%COMP%]{background:#3d6b4a;border-color:#3d6b4a;color:#fff}.addon-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px}.addon-name[_ngcontent-%COMP%]{font-size:.82rem;font-weight:600;color:#1a1e1b;line-height:1.3;flex:1;margin-right:8px}.addon-check[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:4px;border:1.5px solid #c8bfb3;display:flex;align-items:center;justify-content:center;font-size:.7rem;color:transparent;flex-shrink:0;transition:all .15s}.addon-price[_ngcontent-%COMP%]{font-size:.78rem;font-weight:600;color:#2d5038}.participant-block[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #e4ddd3;border-radius:12px;overflow:hidden;margin-bottom:16px}.participant-header[_ngcontent-%COMP%]{padding:14px 20px;background:#f3ede4;border-bottom:1px solid #e4ddd3;display:flex;align-items:center;gap:10px}.p-num[_ngcontent-%COMP%]{width:26px;height:26px;border-radius:50%;background:#162318;color:#fff;font-size:.72rem;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-name[_ngcontent-%COMP%]{font-size:.82rem;font-weight:700;color:#1a1e1b}.p-badge[_ngcontent-%COMP%]{margin-left:auto;font-size:.6rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;background:#2d50381a;color:#2d5038;padding:3px 8px;border-radius:4px;white-space:nowrap}.participant-fields[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:1fr 1fr;gap:16px}.participant-fields[_ngcontent-%COMP%]   .field.full[_ngcontent-%COMP%]{grid-column:1/-1}.info-bar[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;background:#d4882c12;border:1px solid rgba(212,136,44,.2);border-radius:8px;padding:12px 14px;margin-bottom:20px;font-size:.78rem;color:#7a4e14;line-height:1.5}.success-bar[_ngcontent-%COMP%], .error-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 16px;border-radius:8px;font-size:.82rem;margin-bottom:20px}.success-bar[_ngcontent-%COMP%]{background:#3d6b4a14;border:1px solid rgba(61,107,74,.2);color:#2d5038}.error-bar[_ngcontent-%COMP%]{background:#c9404012;border:1px solid rgba(201,64,64,.2);color:#c94040}.alert-close[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;cursor:pointer;color:inherit;opacity:.5;font-size:1rem}.alert-close[_ngcontent-%COMP%]:hover{opacity:1}.review-block[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #e4ddd3;border-radius:12px;overflow:hidden;margin-bottom:16px}.review-header[_ngcontent-%COMP%]{padding:12px 20px;background:#f3ede4;border-bottom:1px solid #e4ddd3;display:flex;align-items:center;justify-content:space-between}.review-header-title[_ngcontent-%COMP%]{font-size:.72rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:#7e8c80}.edit-link[_ngcontent-%COMP%]{font-size:.72rem;font-weight:600;color:#3d6b4a;cursor:pointer;text-decoration:none;transition:color .2s}.edit-link[_ngcontent-%COMP%]:hover{color:#2d5038}.review-body[_ngcontent-%COMP%]{padding:16px 20px}.review-row[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;gap:12px;padding:7px 0;border-bottom:1px solid rgba(0,0,0,.04);font-size:.82rem}.review-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.review-key[_ngcontent-%COMP%]{color:#7e8c80;font-weight:400;flex-shrink:0}.review-val[_ngcontent-%COMP%]{color:#1a1e1b;font-weight:600;text-align:right;word-break:break-word}.p-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.78rem}.p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.65rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:#7e8c80;padding:8px 12px;border-bottom:1px solid #e4ddd3;background:#f3ede4;text-align:left;white-space:nowrap}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.04);color:#1a1e1b;font-weight:500;vertical-align:middle}.p-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.primary-tag[_ngcontent-%COMP%]{font-size:.6rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;background:#2d50381a;color:#2d5038;padding:2px 6px;border-radius:4px;margin-left:6px;vertical-align:middle;white-space:nowrap}.price-breakdown[_ngcontent-%COMP%]{background:#fff;border:1.5px solid #e4ddd3;border-radius:12px;overflow:hidden;margin-bottom:20px}.pb-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;border-bottom:1px solid #e4ddd3;font-size:.82rem;gap:12px}.pb-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.pb-row.total[_ngcontent-%COMP%]{background:#162318;padding:16px 20px}.pb-row.total[_ngcontent-%COMP%]   .pb-label[_ngcontent-%COMP%]{color:#ffffff8c;font-weight:600}.pb-row.total[_ngcontent-%COMP%]   .pb-val[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;font-weight:700;font-family:Clash Display,sans-serif}.pb-label[_ngcontent-%COMP%]{color:#3f4840;font-weight:500}.pb-val[_ngcontent-%COMP%]{color:#1a1e1b;font-weight:700;white-space:nowrap}.terms-check[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:20px;background:#fff;border:1.5px solid #e4ddd3;border-radius:10px;cursor:pointer;margin-bottom:24px;transition:border-color .2s}.terms-check[_ngcontent-%COMP%]:has(input:checked){border-color:#3d6b4a}.terms-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:2px;accent-color:#3d6b4a;flex-shrink:0}.terms-text[_ngcontent-%COMP%]{font-size:.8rem;color:#3f4840;line-height:1.6}.terms-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3d6b4a;text-decoration:none;font-weight:600}.terms-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.bottom-bar[_ngcontent-%COMP%]{bottom:0;left:380px;right:0;background:#faf6f0eb;-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border-top:1px solid #e4ddd3;padding:16px 56px;display:flex;align-items:center;gap:16px;z-index:50}.bar-price[_ngcontent-%COMP%]{margin-left:auto;text-align:right}.bar-price-label[_ngcontent-%COMP%]{font-size:.66rem;font-weight:600;letter-spacing:.1em;text-transform:uppercase;color:#7e8c80}.bar-price-amount[_ngcontent-%COMP%]{font-family:Clash Display,sans-serif;font-size:1.3rem;font-weight:700;color:#2d5038;letter-spacing:-.02em}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:7px;background:transparent;border:1.5px solid #c8bfb3;color:#3f4840;font-family:Plus Jakarta Sans,sans-serif;font-size:.78rem;font-weight:600;letter-spacing:.06em;padding:10px 20px;border-radius:8px;cursor:pointer;white-space:nowrap;transition:all .2s}.btn-back[_ngcontent-%COMP%]:hover{border-color:#3d6b4a;color:#2d5038}.btn-next[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#162318;color:#fff;font-family:Plus Jakarta Sans,sans-serif;font-size:.78rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:12px 28px;border-radius:8px;border:none;cursor:pointer;white-space:nowrap;transition:background .2s,transform .2s cubic-bezier(.23,1,.32,1),box-shadow .2s;box-shadow:0 4px 16px #16231840}.btn-next[_ngcontent-%COMP%]:hover{background:#1f3023;transform:translateY(-1px);box-shadow:0 6px 24px #16231859}.btn-next[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed;transform:none;box-shadow:none}.btn-pay[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5a9b6e,#3d6b4a);box-shadow:0 4px 20px #5a9b6e66}.btn-pay[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3d6b4a,#2d5038);box-shadow:0 6px 28px #5a9b6e80}.loader-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 0;gap:16px}.loader-ring[_ngcontent-%COMP%]{width:40px;height:40px;border:2px solid #e4ddd3;border-top-color:#3d6b4a;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loader-text[_ngcontent-%COMP%]{font-size:.78rem;color:#7e8c80;letter-spacing:.08em}@media (max-width: 359px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}.left-panel[_ngcontent-%COMP%]{display:none}.mobile-nav[_ngcontent-%COMP%]{display:flex;padding:10px 12px}.mobile-steps[_ngcontent-%COMP%]{display:flex;padding:0 8px}.mob-step[_ngcontent-%COMP%]{padding:12px 8px;font-size:.68rem;gap:5px}.mob-step[_ngcontent-%COMP%]   .mob-num[_ngcontent-%COMP%]{width:18px;height:18px;font-size:.58rem}.form-area[_ngcontent-%COMP%]{padding:16px 12px 120px;max-width:100%}.step-headline[_ngcontent-%COMP%]{margin-bottom:20px}.step-h1[_ngcontent-%COMP%]{font-size:1.2rem}.step-desc[_ngcontent-%COMP%]{font-size:.76rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;margin-bottom:12px}.form-row.three[_ngcontent-%COMP%], .addons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.participant-fields[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:12px;gap:12px}.batch-option[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px;padding:12px}.batch-dates[_ngcontent-%COMP%]{font-size:.78rem}.batch-price[_ngcontent-%COMP%]{font-size:.95rem}.batch-status[_ngcontent-%COMP%]{font-size:.56rem;padding:3px 6px}.bottom-bar[_ngcontent-%COMP%]{left:0;padding:10px 12px;gap:8px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1.05rem}.btn-back[_ngcontent-%COMP%]{padding:8px 10px;font-size:.7rem}.btn-next[_ngcontent-%COMP%]{padding:10px 12px;font-size:.7rem;letter-spacing:.04em}.participant-header[_ngcontent-%COMP%], .review-body[_ngcontent-%COMP%]{padding:12px}.pb-row[_ngcontent-%COMP%]{padding:10px 12px}.price-breakdown[_ngcontent-%COMP%]   .pb-row.total[_ngcontent-%COMP%]{padding:12px}.terms-check[_ngcontent-%COMP%]{padding:14px 12px}.primary-tag[_ngcontent-%COMP%]{display:none}}@media (min-width: 360px) and (max-width: 479px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}.left-panel[_ngcontent-%COMP%]{display:none}.mobile-nav[_ngcontent-%COMP%]{display:flex;padding:10px 14px}.mobile-steps[_ngcontent-%COMP%]{display:flex;padding:0}.form-area[_ngcontent-%COMP%]{padding:20px 14px 120px;max-width:100%}.step-h1[_ngcontent-%COMP%]{font-size:1.3rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:14px;margin-bottom:14px}.form-row.three[_ngcontent-%COMP%], .addons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.participant-fields[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:14px;gap:14px}.batch-option[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px;padding:12px 14px}.bottom-bar[_ngcontent-%COMP%]{left:0;gap:10px;padding:10px 14px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1.1rem}.btn-back[_ngcontent-%COMP%]{padding:9px 12px;font-size:.72rem}.btn-next[_ngcontent-%COMP%]{padding:10px 14px;font-size:.72rem}}@media (min-width: 480px) and (max-width: 599px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}.left-panel[_ngcontent-%COMP%]{display:none}.mobile-nav[_ngcontent-%COMP%], .mobile-steps[_ngcontent-%COMP%]{display:flex}.form-area[_ngcontent-%COMP%]{padding:28px 20px 120px;max-width:100%}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-row.three[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.addons-grid[_ngcontent-%COMP%], .participant-fields[_ngcontent-%COMP%]{grid-template-columns:1fr}.bottom-bar[_ngcontent-%COMP%]{left:0;padding:12px 20px}}@media (min-width: 600px) and (max-width: 767px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}.left-panel[_ngcontent-%COMP%]{display:none}.mobile-nav[_ngcontent-%COMP%], .mobile-steps[_ngcontent-%COMP%]{display:flex}.form-area[_ngcontent-%COMP%]{padding:32px 28px 130px;max-width:100%}.step-h1[_ngcontent-%COMP%]{font-size:1.65rem}.step-headline[_ngcontent-%COMP%]{margin-bottom:28px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row.full[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-row.three[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.addons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.participant-fields[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;padding:20px}.bottom-bar[_ngcontent-%COMP%]{left:0;padding:14px 28px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1.2rem}.btn-next[_ngcontent-%COMP%]{padding:12px 22px}.review-block[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.p-table[_ngcontent-%COMP%]{min-width:480px}}@media (min-width: 768px) and (max-width: 899px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}.left-panel[_ngcontent-%COMP%]{display:none}.mobile-nav[_ngcontent-%COMP%], .mobile-steps[_ngcontent-%COMP%]{display:flex}.form-area[_ngcontent-%COMP%]{padding:36px 40px 130px;max-width:680px}.step-h1[_ngcontent-%COMP%]{font-size:1.8rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row.three[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.addons-grid[_ngcontent-%COMP%], .participant-fields[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.bottom-bar[_ngcontent-%COMP%]{left:0;padding:14px 40px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1.3rem}}@media (min-width: 900px) and (max-width: 1099px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:300px 1fr}.left-panel[_ngcontent-%COMP%]{display:flex}.mobile-nav[_ngcontent-%COMP%], .mobile-steps[_ngcontent-%COMP%]{display:none}.trek-name[_ngcontent-%COMP%]{font-size:1.15rem}.trek-info[_ngcontent-%COMP%]{padding:0 18px 20px}.panel-divider[_ngcontent-%COMP%]{margin:0 18px 20px}.stepper[_ngcontent-%COMP%]{padding:0 18px}.price-summary[_ngcontent-%COMP%]{margin:18px 18px 0;padding:14px}.step-title[_ngcontent-%COMP%]{font-size:.78rem}.form-area[_ngcontent-%COMP%]{padding:32px 32px 130px;max-width:100%}.bottom-bar[_ngcontent-%COMP%]{left:300px;padding:14px 32px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1.2rem}.btn-next[_ngcontent-%COMP%]{padding:11px 20px}}@media (min-width: 1100px) and (max-width: 1399px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:360px 1fr}.left-panel[_ngcontent-%COMP%]{display:flex}.mobile-nav[_ngcontent-%COMP%], .mobile-steps[_ngcontent-%COMP%]{display:none}.form-area[_ngcontent-%COMP%]{padding:48px 56px 140px;max-width:680px}.bottom-bar[_ngcontent-%COMP%]{left:360px;padding:16px 56px}}@media (min-width: 1400px){.checkout-shell[_ngcontent-%COMP%]{grid-template-columns:420px 1fr}.left-panel[_ngcontent-%COMP%]{display:flex}.mobile-nav[_ngcontent-%COMP%], .mobile-steps[_ngcontent-%COMP%]{display:none}.trek-thumb[_ngcontent-%COMP%]{height:260px}.trek-name[_ngcontent-%COMP%]{font-size:1.55rem}.trek-info[_ngcontent-%COMP%]{padding:0 32px 28px}.panel-divider[_ngcontent-%COMP%]{margin:0 32px 28px}.stepper[_ngcontent-%COMP%]{padding:0 32px}.price-summary[_ngcontent-%COMP%]{margin:28px 32px 0;padding:22px}.form-area[_ngcontent-%COMP%]{padding:56px 72px 140px;max-width:760px}.step-h1[_ngcontent-%COMP%]{font-size:2.2rem}.step-desc[_ngcontent-%COMP%]{font-size:.9rem}.bottom-bar[_ngcontent-%COMP%]{left:420px;padding:18px 72px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1.45rem}.btn-next[_ngcontent-%COMP%]{padding:14px 36px;font-size:.82rem}.btn-back[_ngcontent-%COMP%]{padding:12px 24px;font-size:.82rem}}@media (max-height: 500px) and (orientation: landscape){.mobile-nav[_ngcontent-%COMP%]{padding:8px 14px}.mob-step[_ngcontent-%COMP%]{padding:10px 12px}.form-area[_ngcontent-%COMP%]{padding-top:14px}.step-headline[_ngcontent-%COMP%]{margin-bottom:16px}.bottom-bar[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.btn-next[_ngcontent-%COMP%], .btn-back[_ngcontent-%COMP%]{padding:9px 16px}.bar-price-amount[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 599px){.review-block[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.p-table[_ngcontent-%COMP%]{min-width:460px}.review-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:2px}.review-row[_ngcontent-%COMP%]   .review-val[_ngcontent-%COMP%]{text-align:left}.pb-row[_ngcontent-%COMP%]{flex-wrap:wrap}.pb-row[_ngcontent-%COMP%]   .pb-label[_ngcontent-%COMP%]{flex:1;min-width:0}.pb-row[_ngcontent-%COMP%]   .pb-val[_ngcontent-%COMP%]{flex-shrink:0}}@media (hover: none) and (pointer: coarse){.counter-btn[_ngcontent-%COMP%]{width:48px;height:48px}.counter-val[_ngcontent-%COMP%]{line-height:48px}.batch-option[_ngcontent-%COMP%], .addon-card[_ngcontent-%COMP%]{padding:16px}.btn-next[_ngcontent-%COMP%]{min-height:48px}.btn-back[_ngcontent-%COMP%]{min-height:44px}.mob-step[_ngcontent-%COMP%]{padding:16px 14px;min-height:48px}.btn-next[_ngcontent-%COMP%]:hover{transform:none}}.error[_ngcontent-%COMP%]{color:#dc2626;font-size:.8rem;margin-top:4px}"]}))}return i(),r})();const bt=[{path:":id",component:x}];let ht=(()=>{var i;class r{static#t=i=()=>(this.\u0275fac=function(n){return new(n||r)},this.\u0275mod=t.$C({type:r}),this.\u0275inj=c.G2t({imports:[g.MD,_.bv,x,b.iI.forChild(bt)]}))}return i(),r})()}}]);