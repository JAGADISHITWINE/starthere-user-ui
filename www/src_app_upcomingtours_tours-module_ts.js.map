{"version":3,"file":"src_app_upcomingtours_tours-module_ts.js","mappings":"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","sources":["./src/app/upcomingtours/tours-module.ts","./src/app/upcomingtours/tours.component.ts","./src/app/upcomingtours/tours.component.html","./src/app/upcomingtours/upcomingtours.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ToursComponent } from './tours.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nconst routes: Routes = [{ path: '', component: ToursComponent }];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule, IonicModule, ToursComponent, RouterModule.forChild(routes)\n  ]\n})\nexport class ToursModule { }\n","// tours.component.ts - UPDATED with API integration\n\nimport { CommonModule } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { TrekListItem, Upcomingtours } from './upcomingtours';\nimport { takeUntil } from 'rxjs';\n\n\n@Component({\n  selector: 'app-tours',\n  templateUrl: './tours.component.html',\n  styleUrls: ['./tours.component.scss'],\n  standalone: true,\n  imports: [CommonModule, FormsModule, IonicModule, RouterLink],\n})\nexport class ToursComponent implements OnInit {\n\n  selectedYear: number = new Date().getFullYear();\n  selectedMonth: string = '';\n  sortBy: string = 'newest';\n\n  years: number[] = [];\n  availableYears: number[] = []; // Years with actual trek data\n\n  months = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ];\n\n  sortOptions = [\n    { value: 'newest', label: 'Newest First' },\n    { value: 'popular', label: 'Most Popular' },\n    { value: 'price-high', label: 'Highest Price' },\n    { value: 'price-low', label: 'Lowest Price' },\n    { value: 'duration-short', label: 'Shortest First' },\n    { value: 'duration-long', label: 'Longest First' }\n  ];\n\n  allTreks: TrekListItem[] = [];\n  monthTreksData: { [key: string]: TrekListItem[] } = {};\n  isLoading = false;\n  errorMessage = '';\n\n  constructor(\n    private router: Router,\n    private trekService: Upcomingtours\n  ) { }\n\n  ngOnInit() {\n    this.initializeYears();\n    this.setInitialMonth();\n    this.loadAvailableYears();\n    this.loadTreks();\n  }\n\n  /**\n   * Initialize years array dynamically\n   * Shows current year ¬± 2 years\n   */\n  initializeYears() {\n    const currentYear = new Date().getFullYear();\n\n    // Generate years: current year - 1, current year, current year + 1, current year + 2\n    this.years = [\n      currentYear - 1,\n      currentYear,\n      currentYear + 1,\n      currentYear + 2\n    ];\n\n    // Set selected year to current year or next year if current month is December\n    const currentMonth = new Date().getMonth();\n    if (currentMonth === 11) { // December\n      this.selectedYear = currentYear + 1;\n    } else {\n      this.selectedYear = currentYear;\n    }\n  }\n\n  /**\n   * Set initial month to current month or next month\n   */\n  setInitialMonth() {\n    const currentMonth = new Date().getMonth();\n    this.selectedMonth = this.months[currentMonth];\n  }\n\n  /**\n   * Load years that have trek data from backend\n   */\n  loadAvailableYears() {\n    this.trekService.getAvailableYears().subscribe({\n      next: (response:any) => {\n        if (response.success && response.years) {\n          this.availableYears = response.years;\n\n          // Update years array to include all available years\n          this.updateYearsWithAvailable(response.years);\n        }\n      },\n      error: (error: any) => {\n        console.error('Load available years error:', error);\n        // Continue with default years if API fails\n      }\n    });\n  }\n\nloadTreks() {\n    this.isLoading = true;\n    this.errorMessage = '';\n\n    this.trekService.getAllTreksFormatted(this.selectedYear)\n      .subscribe({\n        next: (treks: TrekListItem[]) => {\n          this.allTreks = treks || [];\n          this.groupTreksByMonth();\n          this.isLoading = false;\n        },\n        error: (error: any) => {\n          console.error('Load treks error:', error);\n          this.errorMessage = 'Failed to load treks. Please try again.';\n          this.allTreks = [];\n          this.isLoading = false;\n        }\n      });\n  }\n  destroy$(destroy$: any): import(\"rxjs\").OperatorFunction<TrekListItem[], unknown> {\n    throw new Error('Method not implemented.');\n  }\n\n  /**\n   * Update years array to include years from database\n   */\n  updateYearsWithAvailable(availableYears: number[]) {\n    if (availableYears.length === 0) return;\n\n    const minYear = Math.min(...availableYears);\n    const maxYear = Math.max(...availableYears);\n    const currentYear = new Date().getFullYear();\n\n    // Create range from min available year to max(current year + 2, max available year)\n    const startYear = Math.min(minYear, currentYear - 1);\n    const endYear = Math.max(maxYear, currentYear + 2);\n\n    this.years = [];\n    for (let year = startYear; year <= endYear; year++) {\n      this.years.push(year);\n    }\n\n    // Ensure selected year is valid\n    if (!this.years.includes(this.selectedYear)) {\n      this.selectedYear = currentYear;\n    }\n  }\n\n  /**\n   * Load all treks for the selected year\n   */\n\n\n  /**\n   * Group treks by month\n   */\n  groupTreksByMonth() {\n    this.monthTreksData = {};\n\n    this.allTreks.forEach(trek => {\n      const trekDate = new Date(trek.start_date);\n      const monthName = this.months[trekDate.getMonth()];\n\n      if (!this.monthTreksData[monthName]) {\n        this.monthTreksData[monthName] = [];\n      }\n      this.monthTreksData[monthName].push(trek);\n    });\n\n    // Sort treks within each month by start date\n    Object.keys(this.monthTreksData).forEach(month => {\n      this.monthTreksData[month].sort((a, b) => {\n        return new Date(a.start_date).getTime() - new Date(b.start_date).getTime();\n      });\n    });\n  }\n\n  /**\n   * Get treks for selected month\n   */\n  get monthTreks(): { [key: string]: TrekListItem[] } {\n    return this.monthTreksData;\n  }\n\n  /**\n   * Get current month treks\n   */\n  get currentMonthTreks(): TrekListItem[] {\n    return this.monthTreksData[this.selectedMonth] || [];\n  }\n\n  /**\n   * Get trek count for current month\n   */\n  get trekCount(): number {\n    return this.currentMonthTreks.length;\n  }\n\n  /**\n   * Change year\n   */\n  changeYear(direction: 'prev' | 'next') {\n    const currentIndex = this.years.indexOf(this.selectedYear);\n    if (direction === 'prev' && currentIndex > 0) {\n      this.selectedYear = this.years[currentIndex - 1];\n      this.loadTreks();\n    } else if (direction === 'next' && currentIndex < this.years.length - 1) {\n      this.selectedYear = this.years[currentIndex + 1];\n      this.loadTreks();\n    }\n  }\n\n  /**\n   * Check if year has data\n   */\n  yearHasData(year: number): boolean {\n    return this.availableYears.includes(year);\n  }\n\n  /**\n   * Get previous year\n   */\n  get previousYear(): number | null {\n    const currentIndex = this.years.indexOf(this.selectedYear);\n    return currentIndex > 0 ? this.years[currentIndex - 1] : null;\n  }\n\n  /**\n   * Get next year\n   */\n  get nextYear(): number | null {\n    const currentIndex = this.years.indexOf(this.selectedYear);\n    return currentIndex < this.years.length - 1 ? this.years[currentIndex + 1] : null;\n  }\n\n  /**\n   * Check if previous year button should be disabled\n   */\n  get isPrevYearDisabled(): boolean {\n    return this.previousYear === null || this.isLoading;\n  }\n\n  /**\n   * Check if next year button should be disabled\n   */\n  get isNextYearDisabled(): boolean {\n    return this.nextYear === null || this.isLoading;\n  }\n\n  /**\n   * Change month\n   */\n  selectMonth(month: string) {\n    this.selectedMonth = month;\n  }\n\n  /**\n   * Get status color (for badge)\n   */\n  getStatusColor(status: string): string {\n    switch (status) {\n      case 'available': return 'success';\n      case 'selling-fast': return 'warning';\n      case 'last-seat': return 'danger';\n      case 'sold-out': return 'medium';\n      default: return 'medium';\n    }\n  }\n\n  /**\n   * Get status text\n   */\n  getStatusText(status: string): string {\n    switch (status) {\n      case 'available': return 'Available';\n      case 'selling-fast': return 'Selling fast';\n      case 'last-seat': return 'Last seat';\n      case 'sold-out': return 'SOLD OUT';\n      default: return status;\n    }\n  }\n\n  /**\n   * Navigate to trek details\n   */\n  viewDetails(trekId: number) {\n    this.router.navigate(['/tour-details', trekId]);\n  }\n\n  /**\n   * Sort treks\n   */\n  sortTreks() {\n    let sortedTreks = [...this.currentMonthTreks];\n\n    switch (this.sortBy) {\n      case 'price-low':\n        sortedTreks.sort((a, b) => a.price - b.price);\n        break;\n\n      case 'price-high':\n        sortedTreks.sort((a, b) => b.price - a.price);\n        break;\n\n      case 'duration-short':\n        sortedTreks.sort((a, b) => this.parseDuration(a.duration) - this.parseDuration(b.duration));\n        break;\n\n      case 'duration-long':\n        sortedTreks.sort((a, b) => this.parseDuration(b.duration) - this.parseDuration(a.duration));\n        break;\n\n      case 'popular':\n        // Sort by status (available last, sold-out first for reverse popularity)\n        const statusOrder = { 'sold-out': 0, 'last-seat': 1, 'selling-fast': 2, 'available': 3 };\n        sortedTreks.sort((a, b) => statusOrder[a.status] - statusOrder[b.status]);\n        break;\n\n      case 'newest':\n      default:\n        sortedTreks.sort((a, b) => {\n          return new Date(b.start_date).getTime() - new Date(a.start_date).getTime();\n        });\n        break;\n    }\n\n    this.monthTreksData[this.selectedMonth] = sortedTreks;\n  }\n\n  /**\n   * Parse duration string to minutes for comparison\n   */\n  private parseDuration(duration: string): number {\n    const match = duration.match(/(\\d+)\\s*(Day|Days|Hour|Hours|Minute|Minutes)/i);\n    if (!match) return 0;\n\n    const value = parseInt(match[1]);\n    const unit = match[2].toLowerCase();\n\n    if (unit.includes('day')) {\n      return value * 24 * 60; // Convert to minutes\n    } else if (unit.includes('hour')) {\n      return value * 60;\n    } else {\n      return value;\n    }\n  }\n\n  /**\n   * Get count for a specific month\n   */\n  getMonthCount(month: string): number {\n    return this.monthTreksData[month]?.length || 0;\n  }\n}\n","<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n     index.html <head>:\n     <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n     <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n     <link href=\"https://fonts.googleapis.com/css2?family=Syne:wght@500;600;700;800&family=Outfit:wght@300;400;500;600&display=swap\" rel=\"stylesheet\">\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->\n\n<div class=\"page-enter\">\n\n  <!-- HERO -->\n  <section class=\"hero\">\n    <img class=\"hero-img\"\n      src=\"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1400&q=80\"\n      alt=\"Treks Banner\"\n    />\n    <div class=\"hero-body\">\n      <div class=\"hero-breadcrumb\">\n        <a routerLink=\"\">üè† Home</a>\n        <span class=\"sep\">‚Ä∫</span>\n        <span class=\"current\">Upcoming Treks &amp; Adventures</span>\n      </div>\n      <h1 class=\"hero-title\">Upcoming Treks<br />&amp; Adventures</h1>\n      <p class=\"hero-sub\">Karnataka ¬∑ Western Ghats ¬∑ Expert-guided expeditions</p>\n    </div>\n  </section>\n\n  <!-- CONTROL BAR -->\n  <div class=\"control-bar\">\n    <div class=\"control-left\">\n      <span class=\"trek-count-label\" *ngIf=\"!isLoading\">\n        Showing <strong>{{ trekCount }}</strong> of\n        <strong>{{ allTreks.length }}</strong> trips\n      </span>\n      <span class=\"trek-count-label\" *ngIf=\"isLoading\">Loading treks‚Ä¶</span>\n      <div class=\"divider-v\"></div>\n      <span class=\"control-month\">{{ selectedMonth }} {{ selectedYear }}</span>\n    </div>\n    <div class=\"control-right\">\n      <span class=\"sort-label\">Sort</span>\n      <select class=\"sort-select\" [(ngModel)]=\"sortBy\" (change)=\"sortTreks()\" [disabled]=\"isLoading\">\n        <option *ngFor=\"let opt of sortOptions\" [value]=\"opt.value\">{{ opt.label }}</option>\n      </select>\n    </div>\n  </div>\n\n  <!-- ERROR -->\n  <div class=\"error-alert\" *ngIf=\"errorMessage\">\n    <div class=\"alert-inner\">\n      ‚ö† {{ errorMessage }}\n      <button class=\"retry-btn\" (click)=\"loadTreks()\">Retry</button>\n    </div>\n  </div>\n\n  <!-- YEAR NAV -->\n  <div class=\"year-nav\">\n    <button class=\"year-btn\" *ngIf=\"previousYear\" (click)=\"changeYear('prev')\" [disabled]=\"isLoading\">‚Üê {{ previousYear }}</button>\n    <div class=\"year-current\">{{ selectedYear }}</div>\n    <button class=\"year-btn\" *ngIf=\"nextYear\" (click)=\"changeYear('next')\" [disabled]=\"isLoading\">{{ nextYear }} ‚Üí</button>\n  </div>\n\n  <div class=\"year-dropdown-wrap\" *ngIf=\"years.length > 4\">\n    <select class=\"sort-select\" [(ngModel)]=\"selectedYear\" (change)=\"loadTreks()\" [disabled]=\"isLoading\">\n      <option *ngFor=\"let y of years\" [value]=\"y\">{{ y }}</option>\n    </select>\n  </div>\n\n  <!-- MONTH TABS -->\n  <div class=\"month-tabs\">\n    <button\n      class=\"month-tab\"\n      *ngFor=\"let month of months\"\n      [class.active]=\"selectedMonth === month\"\n      (click)=\"selectMonth(month)\"\n      [disabled]=\"isLoading\"\n    >\n      {{ month }}\n      <span class=\"month-count\" *ngIf=\"getMonthCount(month) > 0\">{{ getMonthCount(month) }}</span>\n    </button>\n  </div>\n\n  <!-- LOADER -->\n  <div class=\"loader-wrapper\" *ngIf=\"isLoading\">\n    <div class=\"loader-bars\">\n      <div class=\"loader-bar\"></div>\n      <div class=\"loader-bar\"></div>\n      <div class=\"loader-bar\"></div>\n      <div class=\"loader-bar\"></div>\n      <div class=\"loader-bar\"></div>\n    </div>\n    <p class=\"loader-text\">Loading Expeditions</p>\n  </div>\n\n  <!-- TREK LIST -->\n  <div class=\"content\" *ngIf=\"!isLoading\">\n\n    <div class=\"month-header\">\n      <h2 class=\"month-heading\"><span>{{ selectedMonth }}</span> {{ selectedYear }}</h2>\n      <span class=\"month-sub\">{{ trekCount }} departure{{ trekCount !== 1 ? 's' : '' }}</span>\n    </div>\n\n    <div class=\"table-header\">\n      <div>Date &amp; Duration</div>\n      <div>Trek Details</div>\n      <div>Availability</div>\n      <div style=\"text-align:right\">Price</div>\n    </div>\n\n    <div\n      class=\"trek-row\"\n      *ngFor=\"let trek of currentMonthTreks\"\n      [class.sold-out]=\"trek.status === 'sold-out'\"\n      (click)=\"viewDetails(trek.batch_id)\"\n    >\n      <div class=\"col-date\">\n        <div class=\"date-main\">{{ trek.date }}</div>\n        <div class=\"date-time\">{{ trek.time }}</div>\n        <div class=\"duration-tag\">‚è± {{ trek.duration }}</div>\n      </div>\n\n      <div class=\"col-trek\">\n        <div class=\"trek-thumb\">\n          <img [src]=\"'http://localhost:4001/' + trek.image\" [alt]=\"trek.name\" onerror=\"this.src='assets/default-trek.jpg'\" />\n        </div>\n        <div class=\"trek-info-text\">\n          <h3>{{ trek.name }}</h3>\n          <div class=\"trek-location\">üìç {{ trek.location }}</div>\n          <span class=\"category-tag\">{{ trek.category }}</span>\n        </div>\n      </div>\n\n      <div class=\"col-status\">\n        <span class=\"status-badge\"\n          [ngClass]=\"{\n            'status-available': trek.status === 'available',\n            'status-fast':      trek.status === 'selling-fast',\n            'status-last':      trek.status === 'last-seat',\n            'status-soldout':   trek.status === 'sold-out'\n          }\"\n        >{{ getStatusText(trek.status) }}</span>\n      </div>\n\n      <div class=\"col-price\">\n        <div>\n          <div class=\"price-amount\">‚Çπ{{ trek.price | number:'1.0-0' }}</div>\n          <div class=\"price-per\">Per Person</div>\n        </div>\n        <button\n          class=\"view-btn\"\n          [class.available]=\"trek.status !== 'sold-out'\"\n          [class.soldout]=\"trek.status === 'sold-out'\"\n          [disabled]=\"trek.status === 'sold-out'\"\n          (click)=\"$event.stopPropagation(); viewDetails(trek.batch_id)\"\n        >\n          {{ trek.status === 'sold-out' ? 'Sold Out' : 'View' }}\n          <span class=\"btn-arrow\" *ngIf=\"trek.status !== 'sold-out'\">‚Üí</span>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"empty-state\" *ngIf=\"trekCount === 0\">\n      <div class=\"empty-icon\">üèî</div>\n      <h3>No treks in {{ selectedMonth }} {{ selectedYear }}</h3>\n      <p>Try a different month or year.</p>\n    </div>\n\n  </div>\n\n  <!-- BOTTOM CTA -->\n  <div class=\"bottom-cta\">\n    <div class=\"cta-card\">\n      <div>\n        <div class=\"cta-eyebrow\">Custom Expeditions</div>\n        <h2 class=\"cta-heading\">Can't find what you're looking for?</h2>\n        <p class=\"cta-body\">We organise tailored group treks, corporate outings, and private expeditions. Tell us where you want to go.</p>\n      </div>\n      <a routerLink=\"/contact\" class=\"cta-btn\">Get in Touch <span>‚Üí</span></a>\n    </div>\n  </div>\n\n</div>","// services/trek.service.ts - UPDATED with getAvailableYears\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { from, Observable, of, throwError } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\nimport { EncryptionService } from '../core/encryption.service';\n\n\nexport interface Trek {\n  id: number;\n  name: string;\n  location: string;\n  difficulty: string;\n  category: string;\n  description: string;\n  cover_image: string;\n  gallery_images: string[];\n  highlights: string[];\n  min_price?: number;\n  max_price?: number;\n  total_batches?: number;\n  active_batches?: number;\n  batches?: TrekBatch[];\n}\n\nexport interface TrekBatch {\n  id: number;\n  trek_id: number;\n  start_date: string;\n  end_date: string;\n  price: number;\n  available_slots: number;\n  booked_slots: number;\n  remaining_slots: number;\n  duration: string;\n  status: 'active' | 'inactive' | 'full' | 'completed' | 'cancelled';\n  batch_status: 'available' | 'selling-fast' | 'last-seat' | 'sold-out';\n  min_age?: number;\n  max_age?: number;\n  min_participants?: number;\n  max_participants?: number;\n  inclusions?: string[];\n  exclusions?: string[];\n  itinerary_days?: any[];\n}\n\nexport interface TrekListItem {\n  id: number;\n  name: string;\n  location: string;\n  date: string;\n  time: string;\n  duration: string;\n  price: number;\n  image: string;\n  status: 'available' | 'selling-fast' | 'last-seat' | 'sold-out';\n  category: string;\n  batch_id: number;\n  start_date: string;\n  end_date: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Upcomingtours {\n  private apiUrl = `${environment.baseUrl}`;\n\n  constructor(private http: HttpClient, private crypto: EncryptionService) { }\n\n  /**\n   * Get all treks with filters\n   */\n  getTreks(filters?: {\n    year?: number;\n    month?: number;\n    category?: string;\n    sort?: string;\n    status?: string;\n  }): Observable<any> {\n    let params = new HttpParams();\n\n    if (filters) {\n      if (filters.year) params = params.set('year', filters.year.toString());\n      if (filters.month) params = params.set('month', filters.month.toString());\n      if (filters.category) params = params.set('category', filters.category);\n      if (filters.sort) params = params.set('sort', filters.sort);\n      if (filters.status) params = params.set('status', filters.status);\n    }\n\n    return this.http.get(this.apiUrl, { params });\n  }\n\n  getTrekById(id: number): Observable<any> {\n    if (!id || id <= 0) {\n      return throwError(() => new Error('Invalid trek ID'));\n    }\n\n    return this.http.get<any>(`${this.apiUrl}/${id}`).pipe(\n      map((res: any) => {\n        try {\n          if (res && res.data) {\n            const decrypted = this.crypto.decrypt(res.data);\n\n            // Backend now returns { success: true, trek: {...} }\n            if (decrypted?.success && decrypted.trek) {\n              return {\n                success: true,\n                data: decrypted.trek\n              };\n            }\n\n            return decrypted;\n          }\n          return res;\n        } catch (error) {\n          console.error('Decryption error in getTrekById:', error);\n          throw new Error('Failed to decrypt trek details');\n        }\n      }),\n      catchError(error => {\n        console.error(`Get trek by ID ${id} error:`, error);\n        return throwError(() => error);\n      })\n    );\n  }\n\n  getTreksByMonth(year: number, month: number): Observable<TrekListItem[]> {\n    if (!year || !month || month < 1 || month > 12) {\n      return throwError(() => new Error('Invalid year or month'));\n    }\n\n    return this.http.get<any>(\n      `${this.apiUrl}/by-month/${year}/${month}`\n    ).pipe(\n      map(response => {\n        try {\n          if (!response || !response.data) {\n            return [];\n          }\n\n          const decrypted = this.crypto.decrypt(response.data);\n\n          if (decrypted?.success && Array.isArray(decrypted.treks)) {\n            return decrypted.treks.map((trek: any) =>\n              this.formatTrekForList(trek)\n            );\n          }\n\n          return [];\n        } catch (error) {\n          console.error('Decryption error in getTreksByMonth:', error);\n          return [];\n        }\n      }),\n      catchError(error => {\n        console.error(`Get treks by month ${year}/${month} error:`, error);\n        return throwError(() => error);\n      })\n    );\n  }\n\n  getAllTreksFormatted(year?: number): Observable<TrekListItem[]> {\n    let params = new HttpParams().set('status', 'active');\n\n    if (year) {\n      params = params.set('year', year.toString());\n    }\n\n    return this.http.get<any>(\n      this.apiUrl,\n      { params }\n    ).pipe(\n      map((response: any) => {\n        const decrypted = this.crypto.decrypt(response.data);\n        if (!decrypted?.success || !decrypted.treks) return [];\n\n        const formatted: TrekListItem[] = [];\n\n        decrypted.treks.forEach((trek: any) => {\n          if (trek.batches?.length) {\n            trek.batches.forEach((batch: any) => {\n              formatted.push(this.formatTrekWithBatch(trek, batch));\n            });\n          }\n        });\n\n        return formatted;\n      })\n    );\n  }\n\n  getAvailableYears(): Observable<any> {\n    return this.http.get<any>(`${this.apiUrl}/meta/available-years`).pipe(\n      map((res: any) => {\n        try {\n          if (res && res.data) {\n            const decrypted = this.crypto.decrypt(res.data);\n            return {\n              success: decrypted?.success || false,\n              years: decrypted?.years || [],\n              count: decrypted?.count || 0\n            };\n          }\n          return { success: false, years: [], count: 0 };\n        } catch (error) {\n          console.error('Decryption error in getAvailableYears:', error);\n          throw new Error('Failed to decrypt available years');\n        }\n      }),\n      catchError(error => {\n        console.error('Get available years error:', error);\n        return throwError(() => error);\n      })\n    );\n  }\n\n  getMonthlyStats(year: number): Observable<any> {\n    if (!year || year < 2000 || year > 2100) {\n      return throwError(() => new Error('Invalid year'));\n    }\n\n    return this.http.get<any>(`${this.apiUrl}/stats/monthly/${year}`).pipe(\n      map((res: any) => {\n        try {\n          if (res && res.data) {\n            const decrypted = this.crypto.decrypt(res.data);\n            return {\n              success: decrypted?.success || false,\n              year: decrypted?.year || year,\n              months: decrypted?.months || []\n            };\n          }\n          return { success: false, year, months: [] };\n        } catch (error) {\n          console.error('Decryption error in getMonthlyStats:', error);\n          throw new Error('Failed to decrypt monthly stats');\n        }\n      }),\n      catchError(error => {\n        console.error(`Get monthly stats for ${year} error:`, error);\n        return throwError(() => error);\n      })\n    );\n  }\n  getCategories(): Observable<any> {\n    return this.http.get<any>(`${this.apiUrl}/meta/categories`).pipe(\n      map((res: any) => {\n        try {\n          if (res && res.data) {\n            const decrypted = this.crypto.decrypt(res.data);\n            return {\n              success: decrypted?.success || false,\n              categories: decrypted?.categories || [],\n              count: decrypted?.count || 0\n            };\n          }\n          return { success: false, categories: [], count: 0 };\n        } catch (error) {\n          console.error('Decryption error in getCategories:', error);\n          throw new Error('Failed to decrypt categories');\n        }\n      }),\n      catchError(error => {\n        console.error('Get categories error:', error);\n        return throwError(() => error);\n      })\n    );\n  }\n\n  private formatTrekForList(trek: any): TrekListItem {\n    const startDate = new Date(trek.start_date);\n\n    return {\n      id: trek.id,\n      name: trek.name,\n      location: trek.location,\n      date: this.formatDate(startDate),\n      time: this.extractTime(trek.start_date),\n      duration: trek.duration || this.calculateDuration(trek.start_date, trek.end_date),\n      price: parseFloat(trek.price),\n      image: trek.cover_image || 'assets/default-trek.jpg',\n      status: trek.batch_status,\n      category: trek.category,\n      batch_id: trek.batch_id,\n      start_date: trek.start_date,\n      end_date: trek.end_date\n    };\n  }\n\n  /**\n   * Format trek with batch info\n   */\n  private formatTrekWithBatch(trek: any, batch: any): TrekListItem {\n    const startDate = new Date(batch.start_date);\n\n    return {\n      id: trek.id,\n      name: trek.name,\n      location: trek.location,\n      date: this.formatDate(startDate),\n      time: this.extractTime(batch.start_date),\n      duration: batch.duration || this.calculateDuration(batch.start_date, batch.end_date),\n      price: parseFloat(batch.price),\n      image: trek.cover_image || 'assets/default-trek.jpg',\n      status: batch.batch_status,\n      category: trek.category,\n      batch_id: batch.id,\n      start_date: batch.start_date,\n      end_date: batch.end_date\n    };\n  }\n\n  /**\n   * Format date as \"DD MMM\"\n   */\n  private formatDate(date: Date): string {\n    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n      'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    return `${date.getDate()} ${months[date.getMonth()]}`;\n  }\n\n  /**\n   * Extract time from datetime string\n   */\n  private extractTime(dateTimeString: string): string {\n    const date = new Date(dateTimeString);\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const period = hours >= 12 ? 'PM' : 'AM';\n    const displayHours = hours % 12 || 12;\n    const displayMinutes = minutes.toString().padStart(2, '0');\n    return `${displayHours}:${displayMinutes} ${period}`;\n  }\n\n  /**\n   * Calculate duration between two dates\n   */\n  private calculateDuration(startDate: string, endDate: string): string {\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const diffTime = Math.abs(end.getTime() - start.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n    if (diffDays === 1) {\n      return '1 Day';\n    } else if (diffDays < 1) {\n      const diffHours = Math.ceil(diffTime / (1000 * 60 * 60));\n      return `${diffHours} Hours`;\n    } else {\n      return `${diffDays} Days`;\n    }\n  }\n}\n"],"names":["CommonModule","ToursComponent","RouterModule","IonicModule","routes","path","component","ToursModule","_","_staticBlock","forChild","imports","i1","FormsModule","RouterLink","i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate","ctx_r0","trekCount","allTreks","length","…µ…µproperty","opt_r2","value","label","…µ…µlistener","ToursComponent_div_29_Template_button_click_3_listener","…µ…µrestoreView","_r3","…µ…µnextContext","…µ…µresetView","loadTreks","…µ…µtextInterpolate1","errorMessage","ToursComponent_button_31_Template_button_click_0_listener","_r4","changeYear","isLoading","previousYear","ToursComponent_button_34_Template_button_click_0_listener","_r5","nextYear","y_r7","…µ…µtwoWayListener","ToursComponent_div_35_Template_select_ngModelChange_1_listener","$event","_r6","…µ…µtwoWayBindingSet","selectedYear","ToursComponent_div_35_Template_select_change_1_listener","…µ…µtemplate","ToursComponent_div_35_option_2_Template","…µ…µtwoWayProperty","years","getMonthCount","month_r9","ToursComponent_button_37_Template_button_click_0_listener","_r8","$implicit","selectMonth","ToursComponent_button_37_span_2_Template","…µ…µclassProp","selectedMonth","…µ…µelement","ToursComponent_div_39_div_17_Template_div_click_0_listener","trek_r11","_r10","viewDetails","batch_id","ToursComponent_div_39_div_17_Template_button_click_28_listener","stopPropagation","ToursComponent_div_39_div_17_span_30_Template","status","date","time","duration","image","…µ…µsanitizeUrl","name","location","category","…µ…µpureFunction4","_c0","getStatusText","…µ…µpipeBind2","price","…µ…µtextInterpolate2","ToursComponent_div_39_div_17_Template","ToursComponent_div_39_div_18_Template","currentMonthTreks","constructor","router","trekService","Date","getFullYear","sortBy","availableYears","months","sortOptions","monthTreksData","ngOnInit","initializeYears","setInitialMonth","loadAvailableYears","currentYear","currentMonth","getMonth","getAvailableYears","subscribe","next","response","success","updateYearsWithAvailable","error","console","getAllTreksFormatted","treks","groupTreksByMonth","destroy$","Error","minYear","Math","min","maxYear","max","startYear","endYear","year","push","includes","forEach","trek","trekDate","start_date","monthName","Object","keys","month","sort","a","b","getTime","monthTreks","direction","currentIndex","indexOf","yearHasData","isPrevYearDisabled","isNextYearDisabled","getStatusColor","trekId","navigate","sortTreks","sortedTreks","parseDuration","statusOrder","match","parseInt","unit","toLowerCase","…µ…µdirectiveInject","Router","i2","Upcomingtours","selectors","decls","vars","consts","template","ToursComponent_Template","rf","ctx","ToursComponent_span_19_Template","ToursComponent_span_20_Template","ToursComponent_Template_select_ngModelChange_27_listener","ToursComponent_Template_select_change_27_listener","ToursComponent_option_28_Template","ToursComponent_div_29_Template","ToursComponent_button_31_Template","ToursComponent_button_34_Template","ToursComponent_div_35_Template","ToursComponent_button_37_Template","ToursComponent_div_38_Template","ToursComponent_div_39_Template","i3","NgClass","NgForOf","NgIf","i4","NgSelectOption","…µNgSelectMultipleOption","SelectControlValueAccessor","NgControlStatus","NgModel","i5","RouterLinkWithHrefDelegate","DecimalPipe","styles","HttpParams","throwError","catchError","map","environment","http","crypto","apiUrl","baseUrl","getTreks","filters","params","set","toString","get","getTrekById","id","pipe","res","data","decrypted","decrypt","getTreksByMonth","Array","isArray","formatTrekForList","formatted","batches","batch","formatTrekWithBatch","count","getMonthlyStats","getCategories","categories","startDate","formatDate","extractTime","calculateDuration","end_date","parseFloat","cover_image","batch_status","getDate","dateTimeString","hours","getHours","minutes","getMinutes","period","displayHours","displayMinutes","padStart","endDate","start","end","diffTime","abs","diffDays","ceil","diffHours","…µ…µinject","HttpClient","EncryptionService","factory","…µfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}